(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(i){if(i.ep)return;i.ep=!0;const c=r(i);fetch(i.href,c)}})();function an(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var c=Function.bind.apply(e,i);return new c}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Ct=Object.prototype.toString,mr=function(e){var r=Ct.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Ct.call(e.callee)==="[object Function]"),n},Te,Ft;function un(){if(Ft)return Te;Ft=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=mr,i=Object.prototype.propertyIsEnumerable,c=!i.call({toString:null},"toString"),l=i.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=function(d){var m=d.constructor;return m&&m.prototype===d},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if(typeof window>"u")return!1;for(var d in window)try{if(!f["$"+d]&&e.call(window,d)&&window[d]!==null&&typeof window[d]=="object")try{s(window[d])}catch{return!0}}catch{return!0}return!1}(),y=function(d){if(typeof window>"u"||!p)return s(d);try{return s(d)}catch{return!1}};t=function(m){var b=m!==null&&typeof m=="object",$=r.call(m)==="[object Function]",N=n(m),X=b&&r.call(m)==="[object String]",T=[];if(!b&&!$&&!N)throw new TypeError("Object.keys called on a non-object");var E=l&&$;if(X&&m.length>0&&!e.call(m,0))for(var P=0;P<m.length;++P)T.push(String(P));if(N&&m.length>0)for(var F=0;F<m.length;++F)T.push(String(F));else for(var j in m)!(E&&j==="prototype")&&e.call(m,j)&&T.push(String(j));if(c)for(var te=y(m),A=0;A<u.length;++A)!(te&&u[A]==="constructor")&&e.call(m,u[A])&&T.push(u[A]);return T}}return Te=t,Te}var ln=Array.prototype.slice,cn=mr,Wt=Object.keys,oe=Wt?function(e){return Wt(e)}:un(),qt=Object.keys;oe.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return cn(n)?qt(ln.call(n)):qt(n)})}else Object.keys=oe;return Object.keys||oe};var sn=oe,vr=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,r);if(l.value!==i||l.enumerable!==!0)return!1}return!0},Dt=typeof Symbol<"u"&&Symbol,fn=vr,hr=function(){return typeof Dt!="function"||typeof Symbol!="function"||typeof Dt("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:fn()},pn="Function.prototype.bind called on incompatible ",Re=Array.prototype.slice,yn=Object.prototype.toString,dn="[object Function]",mn=function(e){var r=this;if(typeof r!="function"||yn.call(r)!==dn)throw new TypeError(pn+r);for(var n=Re.call(arguments,1),i,c=function(){if(this instanceof i){var p=r.apply(this,n.concat(Re.call(arguments)));return Object(p)===p?p:this}else return r.apply(e,n.concat(Re.call(arguments)))},l=Math.max(0,r.length-n.length),u=[],s=0;s<l;s++)u.push("$"+s);if(i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(c),r.prototype){var f=function(){};f.prototype=r.prototype,i.prototype=new f,f.prototype=null}return i},vn=mn,st=Function.prototype.bind||vn,hn=st,gr=hn.call(Function.call,Object.prototype.hasOwnProperty),h,J=SyntaxError,Sr=Function,V=TypeError,Ne=function(t){try{return Sr('"use strict"; return ('+t+").constructor;")()}catch{}},M=Object.getOwnPropertyDescriptor;if(M)try{M({},"")}catch{M=null}var Ce=function(){throw new V},gn=M?function(){try{return arguments.callee,Ce}catch{try{return M(arguments,"callee").get}catch{return Ce}}}():Ce,H=hr(),C=Object.getPrototypeOf||function(t){return t.__proto__},z={},Sn=typeof Uint8Array>"u"?h:C(Uint8Array),k={"%AggregateError%":typeof AggregateError>"u"?h:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?h:ArrayBuffer,"%ArrayIteratorPrototype%":H?C([][Symbol.iterator]()):h,"%AsyncFromSyncIteratorPrototype%":h,"%AsyncFunction%":z,"%AsyncGenerator%":z,"%AsyncGeneratorFunction%":z,"%AsyncIteratorPrototype%":z,"%Atomics%":typeof Atomics>"u"?h:Atomics,"%BigInt%":typeof BigInt>"u"?h:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?h:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?h:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?h:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?h:Float32Array,"%Float64Array%":typeof Float64Array>"u"?h:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?h:FinalizationRegistry,"%Function%":Sr,"%GeneratorFunction%":z,"%Int8Array%":typeof Int8Array>"u"?h:Int8Array,"%Int16Array%":typeof Int16Array>"u"?h:Int16Array,"%Int32Array%":typeof Int32Array>"u"?h:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":H?C(C([][Symbol.iterator]())):h,"%JSON%":typeof JSON=="object"?JSON:h,"%Map%":typeof Map>"u"?h:Map,"%MapIteratorPrototype%":typeof Map>"u"||!H?h:C(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?h:Promise,"%Proxy%":typeof Proxy>"u"?h:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?h:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?h:Set,"%SetIteratorPrototype%":typeof Set>"u"||!H?h:C(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?h:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":H?C(""[Symbol.iterator]()):h,"%Symbol%":H?Symbol:h,"%SyntaxError%":J,"%ThrowTypeError%":gn,"%TypedArray%":Sn,"%TypeError%":V,"%Uint8Array%":typeof Uint8Array>"u"?h:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?h:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?h:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?h:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?h:WeakMap,"%WeakRef%":typeof WeakRef>"u"?h:WeakRef,"%WeakSet%":typeof WeakSet>"u"?h:WeakSet};try{null.error}catch(t){var wn=C(C(t));k["%Error.prototype%"]=wn}var bn=function t(e){var r;if(e==="%AsyncFunction%")r=Ne("async function () {}");else if(e==="%GeneratorFunction%")r=Ne("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Ne("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=C(i.prototype))}return k[e]=r,r},Lt={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ee=st,le=gr,Pn=ee.call(Function.call,Array.prototype.concat),An=ee.call(Function.apply,Array.prototype.splice),_t=ee.call(Function.call,String.prototype.replace),ce=ee.call(Function.call,String.prototype.slice),On=ee.call(Function.call,RegExp.prototype.exec),In=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,En=/\\(\\)?/g,$n=function(e){var r=ce(e,0,1),n=ce(e,-1);if(r==="%"&&n!=="%")throw new J("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new J("invalid intrinsic syntax, expected opening `%`");var i=[];return _t(e,In,function(c,l,u,s){i[i.length]=u?_t(s,En,"$1"):l||c}),i},xn=function(e,r){var n=e,i;if(le(Lt,n)&&(i=Lt[n],n="%"+i[0]+"%"),le(k,n)){var c=k[n];if(c===z&&(c=bn(n)),typeof c>"u"&&!r)throw new V("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:c}}throw new J("intrinsic "+e+" does not exist!")},I=function(e,r){if(typeof e!="string"||e.length===0)throw new V("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new V('"allowMissing" argument must be a boolean');if(On(/^%?[^%]*%?$/,e)===null)throw new J("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=$n(e),i=n.length>0?n[0]:"",c=xn("%"+i+"%",r),l=c.name,u=c.value,s=!1,f=c.alias;f&&(i=f[0],An(n,Pn([0,1],f)));for(var p=1,y=!0;p<n.length;p+=1){var d=n[p],m=ce(d,0,1),b=ce(d,-1);if((m==='"'||m==="'"||m==="`"||b==='"'||b==="'"||b==="`")&&m!==b)throw new J("property names with quotes must have matching quotes");if((d==="constructor"||!y)&&(s=!0),i+="."+d,l="%"+i+"%",le(k,l))u=k[l];else if(u!=null){if(!(d in u)){if(!r)throw new V("base intrinsic for "+e+" exists, but the property is not available.");return}if(M&&p+1>=n.length){var $=M(u,d);y=!!$,y&&"get"in $&&!("originalValue"in $.get)?u=$.get:u=u[d]}else y=le(u,d),u=u[d];y&&!s&&(k[l]=u)}}return u},Tn=I,it=Tn("%Object.defineProperty%",!0),ot=function(){if(it)try{return it({},"a",{value:1}),!0}catch{return!1}return!1};ot.hasArrayLengthDefineBug=function(){if(!ot())return null;try{return it([],"length",{value:1}).length!==1}catch{return!0}};var Rn=ot,Nn=sn,Cn=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Fn=Object.prototype.toString,Wn=Array.prototype.concat,wr=Object.defineProperty,qn=function(t){return typeof t=="function"&&Fn.call(t)==="[object Function]"},Dn=Rn(),br=wr&&Dn,Ln=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!qn(n)||!n())return}br?wr(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r},Pr=function(t,e){var r=arguments.length>2?arguments[2]:{},n=Nn(e);Cn&&(n=Wn.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)Ln(t,n[i],e[n[i]],r[n[i]])};Pr.supportsDescriptors=!!br;var Ar=Pr,se={},_n={get exports(){return se},set exports(t){se=t}},Mn=I,kn=Mn("%TypeError%"),jn=function(e,r){if(e==null)throw new kn(r||"Cannot call method on "+e);return e};(function(t){t.exports=jn})(_n);var fe={},Bn={get exports(){return fe},set exports(t){fe=t}};(function(t){var e=st,r=I,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),c=r("%Reflect.apply%",!0)||e.call(i,n),l=r("%Object.getOwnPropertyDescriptor%",!0),u=r("%Object.defineProperty%",!0),s=r("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}t.exports=function(y){var d=c(e,i,arguments);if(l&&u){var m=l(d,"length");m.configurable&&u(d,"length",{value:1+s(0,y.length-(arguments.length-1))})}return d};var f=function(){return c(e,n,arguments)};u?u(t.exports,"apply",{value:f}):t.exports.apply=f})(Bn);var Or=I,Ir=fe,Gn=Ir(Or("String.prototype.indexOf")),Y=function(e,r){var n=Or(e,!!r);return typeof n=="function"&&Gn(e,".prototype.")>-1?Ir(n):n},pe={},Un={get exports(){return pe},set exports(t){pe=t}},Fe,Mt;function Hn(){if(Mt)return Fe;Mt=1;var t=I,e=t("%Array%"),r=!e.isArray&&Y("Object.prototype.toString");return Fe=e.isArray||function(i){return r(i)==="[object Array]"},Fe}var kt;function zn(){return kt||(kt=1,function(t){t.exports=Hn()}(Un)),pe}var Er=I,Kn=Y,Vn=Er("%TypeError%"),Jn=zn(),Yn=Er("%Reflect.apply%",!0)||Kn("%Function.prototype.apply%"),Xn=function(e,r){var n=arguments.length>2?arguments[2]:[];if(!Jn(n))throw new Vn("Assertion failed: optional `argumentsList`, if provided, must be a List");return Yn(e,r,n)};const Qn={},Zn=Object.freeze(Object.defineProperty({__proto__:null,default:Qn},Symbol.toStringTag,{value:"Module"})),ei=an(Zn);var We,jt;function ti(){if(jt)return We;jt=1;var t=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=t&&e&&typeof e.get=="function"?e.get:null,n=t&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,c=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=i&&c&&typeof c.get=="function"?c.get:null,u=i&&Set.prototype.forEach,s=typeof WeakMap=="function"&&WeakMap.prototype,f=s?WeakMap.prototype.has:null,p=typeof WeakSet=="function"&&WeakSet.prototype,y=p?WeakSet.prototype.has:null,d=typeof WeakRef=="function"&&WeakRef.prototype,m=d?WeakRef.prototype.deref:null,b=Boolean.prototype.valueOf,$=Object.prototype.toString,N=Function.prototype.toString,X=String.prototype.match,T=String.prototype.slice,E=String.prototype.replace,P=String.prototype.toUpperCase,F=String.prototype.toLowerCase,j=RegExp.prototype.test,te=Array.prototype.concat,A=Array.prototype.join,_r=Array.prototype.slice,pt=Math.floor,me=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ve=Object.getOwnPropertySymbols,he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,B=typeof Symbol=="function"&&typeof Symbol.iterator=="object",O=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===B||"symbol")?Symbol.toStringTag:null,yt=Object.prototype.propertyIsEnumerable,dt=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(o){return o.__proto__}:null);function mt(o,a){if(o===1/0||o===-1/0||o!==o||o&&o>-1e3&&o<1e3||j.call(/e/,a))return a;var g=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof o=="number"){var S=o<0?-pt(-o):pt(o);if(S!==o){var w=String(S),v=T.call(a,w.length+1);return E.call(w,g,"$&_")+"."+E.call(E.call(v,/([0-9]{3})/g,"$&_"),/_$/,"")}}return E.call(a,g,"$&_")}var ge=ei,vt=ge.custom,ht=wt(vt)?vt:null;We=function o(a,g,S,w){var v=g||{};if(W(v,"quoteStyle")&&v.quoteStyle!=="single"&&v.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(W(v,"maxStringLength")&&(typeof v.maxStringLength=="number"?v.maxStringLength<0&&v.maxStringLength!==1/0:v.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var D=W(v,"customInspect")?v.customInspect:!0;if(typeof D!="boolean"&&D!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(W(v,"indent")&&v.indent!==null&&v.indent!=="	"&&!(parseInt(v.indent,10)===v.indent&&v.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(W(v,"numericSeparator")&&typeof v.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var _=v.numericSeparator;if(typeof a>"u")return"undefined";if(a===null)return"null";if(typeof a=="boolean")return a?"true":"false";if(typeof a=="string")return Pt(a,v);if(typeof a=="number"){if(a===0)return 1/0/a>0?"0":"-0";var x=String(a);return _?mt(a,x):x}if(typeof a=="bigint"){var L=String(a)+"n";return _?mt(a,L):L}var Pe=typeof v.depth>"u"?5:v.depth;if(typeof S>"u"&&(S=0),S>=Pe&&Pe>0&&typeof a=="object")return Se(a)?"[Array]":"[Object]";var G=rn(v,S);if(typeof w>"u")w=[];else if(bt(w,a)>=0)return"[Circular]";function R(U,ie,on){if(ie&&(w=_r.call(w),w.push(ie)),on){var Nt={depth:v.depth};return W(v,"quoteStyle")&&(Nt.quoteStyle=v.quoteStyle),o(U,Nt,S+1,w)}return o(U,v,S+1,w)}if(typeof a=="function"&&!St(a)){var Ot=Kr(a),It=re(a,R);return"[Function"+(Ot?": "+Ot:" (anonymous)")+"]"+(It.length>0?" { "+A.call(It,", ")+" }":"")}if(wt(a)){var Et=B?E.call(String(a),/^(Symbol\(.*\))_[^)]*$/,"$1"):he.call(a);return typeof a=="object"&&!B?Q(Et):Et}if(Zr(a)){for(var Z="<"+F.call(String(a.nodeName)),Ae=a.attributes||[],ne=0;ne<Ae.length;ne++)Z+=" "+Ae[ne].name+"="+gt(Mr(Ae[ne].value),"double",v);return Z+=">",a.childNodes&&a.childNodes.length&&(Z+="..."),Z+="</"+F.call(String(a.nodeName))+">",Z}if(Se(a)){if(a.length===0)return"[]";var Oe=re(a,R);return G&&!tn(Oe)?"["+be(Oe,G)+"]":"[ "+A.call(Oe,", ")+" ]"}if(jr(a)){var Ie=re(a,R);return!("cause"in Error.prototype)&&"cause"in a&&!yt.call(a,"cause")?"{ ["+String(a)+"] "+A.call(te.call("[cause]: "+R(a.cause),Ie),", ")+" }":Ie.length===0?"["+String(a)+"]":"{ ["+String(a)+"] "+A.call(Ie,", ")+" }"}if(typeof a=="object"&&D){if(ht&&typeof a[ht]=="function"&&ge)return ge(a,{depth:Pe-S});if(D!=="symbol"&&typeof a.inspect=="function")return a.inspect()}if(Vr(a)){var $t=[];return n&&n.call(a,function(U,ie){$t.push(R(ie,a,!0)+" => "+R(U,a))}),At("Map",r.call(a),$t,G)}if(Xr(a)){var xt=[];return u&&u.call(a,function(U){xt.push(R(U,a))}),At("Set",l.call(a),xt,G)}if(Jr(a))return we("WeakMap");if(Qr(a))return we("WeakSet");if(Yr(a))return we("WeakRef");if(Gr(a))return Q(R(Number(a)));if(Hr(a))return Q(R(me.call(a)));if(Ur(a))return Q(b.call(a));if(Br(a))return Q(R(String(a)));if(!kr(a)&&!St(a)){var Ee=re(a,R),Tt=dt?dt(a)===Object.prototype:a instanceof Object||a.constructor===Object,$e=a instanceof Object?"":"null prototype",Rt=!Tt&&O&&Object(a)===a&&O in a?T.call(q(a),8,-1):$e?"Object":"",nn=Tt||typeof a.constructor!="function"?"":a.constructor.name?a.constructor.name+" ":"",xe=nn+(Rt||$e?"["+A.call(te.call([],Rt||[],$e||[]),": ")+"] ":"");return Ee.length===0?xe+"{}":G?xe+"{"+be(Ee,G)+"}":xe+"{ "+A.call(Ee,", ")+" }"}return String(a)};function gt(o,a,g){var S=(g.quoteStyle||a)==="double"?'"':"'";return S+o+S}function Mr(o){return E.call(String(o),/"/g,"&quot;")}function Se(o){return q(o)==="[object Array]"&&(!O||!(typeof o=="object"&&O in o))}function kr(o){return q(o)==="[object Date]"&&(!O||!(typeof o=="object"&&O in o))}function St(o){return q(o)==="[object RegExp]"&&(!O||!(typeof o=="object"&&O in o))}function jr(o){return q(o)==="[object Error]"&&(!O||!(typeof o=="object"&&O in o))}function Br(o){return q(o)==="[object String]"&&(!O||!(typeof o=="object"&&O in o))}function Gr(o){return q(o)==="[object Number]"&&(!O||!(typeof o=="object"&&O in o))}function Ur(o){return q(o)==="[object Boolean]"&&(!O||!(typeof o=="object"&&O in o))}function wt(o){if(B)return o&&typeof o=="object"&&o instanceof Symbol;if(typeof o=="symbol")return!0;if(!o||typeof o!="object"||!he)return!1;try{return he.call(o),!0}catch{}return!1}function Hr(o){if(!o||typeof o!="object"||!me)return!1;try{return me.call(o),!0}catch{}return!1}var zr=Object.prototype.hasOwnProperty||function(o){return o in this};function W(o,a){return zr.call(o,a)}function q(o){return $.call(o)}function Kr(o){if(o.name)return o.name;var a=X.call(N.call(o),/^function\s*([\w$]+)/);return a?a[1]:null}function bt(o,a){if(o.indexOf)return o.indexOf(a);for(var g=0,S=o.length;g<S;g++)if(o[g]===a)return g;return-1}function Vr(o){if(!r||!o||typeof o!="object")return!1;try{r.call(o);try{l.call(o)}catch{return!0}return o instanceof Map}catch{}return!1}function Jr(o){if(!f||!o||typeof o!="object")return!1;try{f.call(o,f);try{y.call(o,y)}catch{return!0}return o instanceof WeakMap}catch{}return!1}function Yr(o){if(!m||!o||typeof o!="object")return!1;try{return m.call(o),!0}catch{}return!1}function Xr(o){if(!l||!o||typeof o!="object")return!1;try{l.call(o);try{r.call(o)}catch{return!0}return o instanceof Set}catch{}return!1}function Qr(o){if(!y||!o||typeof o!="object")return!1;try{y.call(o,y);try{f.call(o,f)}catch{return!0}return o instanceof WeakSet}catch{}return!1}function Zr(o){return!o||typeof o!="object"?!1:typeof HTMLElement<"u"&&o instanceof HTMLElement?!0:typeof o.nodeName=="string"&&typeof o.getAttribute=="function"}function Pt(o,a){if(o.length>a.maxStringLength){var g=o.length-a.maxStringLength,S="... "+g+" more character"+(g>1?"s":"");return Pt(T.call(o,0,a.maxStringLength),a)+S}var w=E.call(E.call(o,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,en);return gt(w,"single",a)}function en(o){var a=o.charCodeAt(0),g={8:"b",9:"t",10:"n",12:"f",13:"r"}[a];return g?"\\"+g:"\\x"+(a<16?"0":"")+P.call(a.toString(16))}function Q(o){return"Object("+o+")"}function we(o){return o+" { ? }"}function At(o,a,g,S){var w=S?be(g,S):A.call(g,", ");return o+" ("+a+") {"+w+"}"}function tn(o){for(var a=0;a<o.length;a++)if(bt(o[a],`
`)>=0)return!1;return!0}function rn(o,a){var g;if(o.indent==="	")g="	";else if(typeof o.indent=="number"&&o.indent>0)g=A.call(Array(o.indent+1)," ");else return null;return{base:g,prev:A.call(Array(a+1),g)}}function be(o,a){if(o.length===0)return"";var g=`
`+a.prev+a.base;return g+A.call(o,","+g)+`
`+a.prev}function re(o,a){var g=Se(o),S=[];if(g){S.length=o.length;for(var w=0;w<o.length;w++)S[w]=W(o,w)?a(o[w],o):""}var v=typeof ve=="function"?ve(o):[],D;if(B){D={};for(var _=0;_<v.length;_++)D["$"+v[_]]=v[_]}for(var x in o)W(o,x)&&(g&&String(Number(x))===x&&x<o.length||B&&D["$"+x]instanceof Symbol||(j.call(/[^\w$]/,x)?S.push(a(x,o)+": "+a(o[x],o)):S.push(x+": "+a(o[x],o))));if(typeof ve=="function")for(var L=0;L<v.length;L++)yt.call(o,v[L])&&S.push("["+a(v[L])+"]: "+a(o[v[L]],o));return S}return We}var qe,Bt;function ri(){return Bt||(Bt=1,qe=function(e){return typeof e=="string"||typeof e=="symbol"}),qe}var De,Gt;function ni(){return Gt||(Gt=1,De=function(e){if(e===null)return"Null";if(typeof e>"u")return"Undefined";if(typeof e=="function"||typeof e=="object")return"Object";if(typeof e=="number")return"Number";if(typeof e=="boolean")return"Boolean";if(typeof e=="string")return"String"}),De}var Le,Ut;function de(){if(Ut)return Le;Ut=1;var t=ni();return Le=function(r){return typeof r=="symbol"?"Symbol":typeof r=="bigint"?"BigInt":t(r)},Le}var ii=I,Ht=ii("%TypeError%"),oi=ti(),ai=ri(),ui=de(),$r=function(e,r){if(ui(e)!=="Object")throw new Ht("Assertion failed: Type(O) is not Object");if(!ai(r))throw new Ht("Assertion failed: IsPropertyKey(P) is not true, got "+oi(r));return e[r]},at={},li={get exports(){return at},set exports(t){at=t}},xr=Function.prototype.toString,K=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,ut,ae;if(typeof K=="function"&&typeof Object.defineProperty=="function")try{ut=Object.defineProperty({},"length",{get:function(){throw ae}}),ae={},K(function(){throw 42},null,ut)}catch(t){t!==ae&&(K=null)}else K=null;var ci=/^\s*class\b/,lt=function(e){try{var r=xr.call(e);return ci.test(r)}catch{return!1}},_e=function(e){try{return lt(e)?!1:(xr.call(e),!0)}catch{return!1}},ue=Object.prototype.toString,si="[object Object]",fi="[object Function]",pi="[object GeneratorFunction]",yi="[object HTMLAllCollection]",di="[object HTML document.all class]",mi="[object HTMLCollection]",vi=typeof Symbol=="function"&&!!Symbol.toStringTag,hi=!(0 in[,]),ct=function(){return!1};if(typeof document=="object"){var gi=document.all;ue.call(gi)===ue.call(document.all)&&(ct=function(e){if((hi||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=ue.call(e);return(r===yi||r===di||r===mi||r===si)&&e("")==null}catch{}return!1})}var Tr=K?function(e){if(ct(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{K(e,null,ut)}catch(r){if(r!==ae)return!1}return!lt(e)&&_e(e)}:function(e){if(ct(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(vi)return _e(e);if(lt(e))return!1;var r=ue.call(e);return r!==fi&&r!==pi&&!/^\[object HTML/.test(r)?!1:_e(e)};(function(t){t.exports=Tr})(li);var Me,zt;function Si(){if(zt)return Me;zt=1;var t=I,e=t("%Math%"),r=t("%Number%");return Me=r.MAX_SAFE_INTEGER||e.pow(2,53)-1,Me}var ke,Kt;function wi(){if(Kt)return ke;Kt=1;var t=I,e=t("%Math.abs%");return ke=function(n){return e(n)},ke}var je,Vt;function bi(){if(Vt)return je;Vt=1;var t=de(),e=Math.floor;return je=function(n){return t(n)==="BigInt"?n:e(n)},je}var Be,Jt;function Pi(){return Jt||(Jt=1,Be=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),Be}var Ge,Yt;function Ai(){return Yt||(Yt=1,Ge=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),Ge}var Ue,Xt;function Rr(){if(Xt)return Ue;Xt=1;var t=vr;return Ue=function(){return t()&&!!Symbol.toStringTag},Ue}var He,Qt;function Oi(){if(Qt)return He;Qt=1;var t=Date.prototype.getDay,e=function(l){try{return t.call(l),!0}catch{return!1}},r=Object.prototype.toString,n="[object Date]",i=Rr()();return He=function(l){return typeof l!="object"||l===null?!1:i?e(l):r.call(l)===n},He}var ye={},Zt={get exports(){return ye},set exports(t){ye=t}},er;function Ii(){if(er)return ye;er=1;var t=Object.prototype.toString,e=hr();if(e){var r=Symbol.prototype.toString,n=/^Symbol\(.*\)$/,i=function(l){return typeof l.valueOf()!="symbol"?!1:n.test(r.call(l))};Zt.exports=function(l){if(typeof l=="symbol")return!0;if(t.call(l)!=="[object Symbol]")return!1;try{return i(l)}catch{return!1}}}else Zt.exports=function(l){return!1};return ye}var ze,tr;function Ei(){if(tr)return ze;tr=1;var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",e=Ai(),r=Tr,n=Oi(),i=Ii(),c=function(s,f){if(typeof s>"u"||s===null)throw new TypeError("Cannot call method on "+s);if(typeof f!="string"||f!=="number"&&f!=="string")throw new TypeError('hint must be "string" or "number"');var p=f==="string"?["toString","valueOf"]:["valueOf","toString"],y,d,m;for(m=0;m<p.length;++m)if(y=s[p[m]],r(y)&&(d=y.call(s),e(d)))return d;throw new TypeError("No default value")},l=function(s,f){var p=s[f];if(p!==null&&typeof p<"u"){if(!r(p))throw new TypeError(p+" returned for property "+f+" of object "+s+" is not a function");return p}};return ze=function(s){if(e(s))return s;var f="default";arguments.length>1&&(arguments[1]===String?f="string":arguments[1]===Number&&(f="number"));var p;if(t&&(Symbol.toPrimitive?p=l(s,Symbol.toPrimitive):i(s)&&(p=Symbol.prototype.valueOf)),typeof p<"u"){var y=p.call(s,f);if(e(y))return y;throw new TypeError("unable to convert exotic object to primitive")}return f==="default"&&(n(s)||i(s))&&(f="string"),c(s,f==="default"?"number":f)},ze}var Ke,rr;function $i(){if(rr)return Ke;rr=1;var t=Ei();return Ke=function(r){return arguments.length>1?t(r,arguments[1]):t(r)},Ke}var Ve,nr;function xi(){if(nr)return Ve;nr=1;var t=Y,e=Rr()(),r,n,i,c;if(e){r=t("Object.prototype.hasOwnProperty"),n=t("RegExp.prototype.exec"),i={};var l=function(){throw i};c={toString:l,valueOf:l},typeof Symbol.toPrimitive=="symbol"&&(c[Symbol.toPrimitive]=l)}var u=t("Object.prototype.toString"),s=Object.getOwnPropertyDescriptor,f="[object RegExp]";return Ve=e?function(y){if(!y||typeof y!="object")return!1;var d=s(y,"lastIndex"),m=d&&r(d,"value");if(!m)return!1;try{n(y,c)}catch(b){return b===i}}:function(y){return!y||typeof y!="object"&&typeof y!="function"?!1:u(y)===f},Ve}var Je,ir;function Ti(){if(ir)return Je;ir=1;var t=Y,e=I,r=xi(),n=t("RegExp.prototype.exec"),i=e("%TypeError%");return Je=function(l){if(!r(l))throw new i("`regex` must be a RegExp");return function(s){return n(l,s)!==null}},Je}var Ye,or;function Ri(){if(or)return Ye;or=1;var t=I,e=t("%Number%"),r=t("%RegExp%"),n=t("%TypeError%"),i=t("%parseInt%"),c=Y,l=Ti(),u=c("String.prototype.slice"),s=l(/^0b[01]+$/i),f=l(/^0o[0-7]+$/i),p=l(/^[-+]0x[0-9a-f]+$/i),y=["","​","￾"].join(""),d=new r("["+y+"]","g"),m=l(d),b=[`	
\v\f\r   ᠎    `,"         　\u2028","\u2029\uFEFF"].join(""),$=new RegExp("(^["+b+"]+)|(["+b+"]+$)","g"),N=c("String.prototype.replace"),X=function(E){return N(E,$,"")},T=de();return Ye=function E(P){if(T(P)!=="String")throw new n("Assertion failed: `argument` is not a String");if(s(P))return e(i(u(P,2),2));if(f(P))return e(i(u(P,2),8));if(m(P)||p(P))return NaN;var F=X(P);return F!==P?E(F):e(P)},Ye}var Xe,ar;function Ni(){if(ar)return Xe;ar=1;var t=I,e=t("%TypeError%"),r=t("%Number%"),n=Pi(),i=$i(),c=Ri();return Xe=function(u){var s=n(u)?u:i(u,r);if(typeof s=="symbol")throw new e("Cannot convert a Symbol value to a number");if(typeof s=="bigint")throw new e("Conversion from 'BigInt' to 'number' is not allowed.");return typeof s=="string"?c(s):r(s)},Xe}var Qe,ur;function Nr(){return ur||(ur=1,Qe=Number.isNaN||function(e){return e!==e}),Qe}var Ze,lr;function Ci(){if(lr)return Ze;lr=1;var t=Nr();return Ze=function(e){return(typeof e=="number"||typeof e=="bigint")&&!t(e)&&e!==1/0&&e!==-1/0},Ze}var et,cr;function Fi(){return cr||(cr=1,et=function(e){return e>=0?1:-1}),et}var tt,sr;function Wi(){if(sr)return tt;sr=1;var t=wi(),e=bi(),r=Ni(),n=Nr(),i=Ci(),c=Fi();return tt=function(u){var s=r(u);if(n(s)||s===0)return 0;if(!i(s))return s;var f=e(t(s));return f===0?0:c(s)*f},tt}var rt,fr;function qi(){if(fr)return rt;fr=1;var t=Si(),e=Wi();return rt=function(n){var i=e(n);return i<=0?0:i>t?t:i},rt}var Di=I,Li=Di("%TypeError%"),_i=$r,Mi=qi(),ki=de(),ji=function(e){if(ki(e)!=="Object")throw new Li("Assertion failed: `obj` must be an Object");return Mi(_i(e,"length"))},Bi=function(e){return!!e},Gi=I,Ui=Gi("%Object%"),Hi=se,zi=function(e){return Hi(e),Ui(e)},Cr=I,Ki=Cr("%String%"),Vi=Cr("%TypeError%"),Ji=function(e){if(typeof e=="symbol")throw new Vi("Cannot convert a Symbol value to a string");return Ki(e)},Yi=Xn,Xi=$r,Qi=at,Zi=ji,eo=Bi,to=zi,ro=Ji,Fr=function(e){var r=to(this),n=Zi(r);if(!Qi(e))throw new TypeError("Array#findIndex: predicate must be a function");for(var i=arguments.length>1?arguments[1]:void 0,c=0;c<n;){var l=ro(c),u=Xi(r,l),s=eo(Yi(e,i,[u,c,r]));if(s)return c;c+=1}return-1},no=Fr,Wr=function(){var e=Array.prototype.findIndex&&[,1].findIndex(function(r,n){return n===0})===0;return e?Array.prototype.findIndex:no},io=gr,qr=typeof Symbol=="function"&&typeof Symbol.unscopables=="symbol",oo=qr&&Array.prototype[Symbol.unscopables],pr=TypeError,ao=function(e){if(typeof e!="string"||!e)throw new pr("method must be a non-empty string");if(!io(Array.prototype,e))throw new pr("method must be on Array.prototype");qr&&(oo[e]=!0)},uo=Ar,lo=ao,co=Wr,so=function(){var e=co();return uo(Array.prototype,{findIndex:e},{findIndex:function(){return Array.prototype.findIndex!==e}}),lo("findIndex"),e},fo=Ar,po=se,yo=fe,mo=Y,vo=Fr,Dr=Wr,ho=so,go=mo("Array.prototype.slice"),So=yo.apply(Dr()),wo=function(e,r){po(e);var n=go(arguments,1);return So(e,n)};fo(wo,{getPolyfill:Dr,implementation:vo,shim:ho});/*! http://mths.be/startswith v0.2.0 by @mathias */String.prototype.startsWith||function(){var t=function(){try{var n={},i=Object.defineProperty,c=i(n,n,n)&&i}catch{}return c}(),e={}.toString,r=function(n){if(this==null)throw TypeError();var i=String(this);if(n&&e.call(n)=="[object RegExp]")throw TypeError();var c=i.length,l=String(n),u=l.length,s=arguments.length>1?arguments[1]:void 0,f=s?Number(s):0;f!=f&&(f=0);var p=Math.min(Math.max(f,0),c);if(u+p>c)return!1;for(var y=-1;++y<u;)if(i.charCodeAt(p+y)!=l.charCodeAt(y))return!1;return!0};t?t(String.prototype,"startsWith",{value:r,configurable:!0,writable:!0}):String.prototype.startsWith=r}();/*! https://mths.be/includes v0.2.0 by @mathias */String.prototype.includes||function(){var t={}.toString,e=function(){try{var i={},c=Object.defineProperty,l=c(i,i,i)&&c}catch{}return l}(),r="".indexOf,n=function(i){if(this==null)throw TypeError();var c=String(this);if(i&&t.call(i)=="[object RegExp]")throw TypeError();var l=c.length,u=String(i),s=u.length,f=arguments.length>1?arguments[1]:void 0,p=f?Number(f):0;p!=p&&(p=0);var y=Math.min(Math.max(p,0),l);return s+y>l?!1:r.call(c,u,p)!=-1};e?e(String.prototype,"includes",{value:n,configurable:!0,writable:!0}):String.prototype.includes=n}();/*! http://mths.be/repeat v0.2.0 by @mathias */String.prototype.repeat||function(){var t=function(){try{var r={},n=Object.defineProperty,i=n(r,r,r)&&n}catch{}return i}(),e=function(r){if(this==null)throw TypeError();var n=String(this),i=r?Number(r):0;if(i!=i&&(i=0),i<0||i==1/0)throw RangeError();for(var c="";i;)i%2==1&&(c+=n),i>1&&(n+=n),i>>=1;return c};t?t(String.prototype,"repeat",{value:e,configurable:!0,writable:!0}):String.prototype.repeat=e}();function bo(t,e){return e.map(function(r,n){var i=n+1,c=i.toString().length,l=" ".repeat(t-c);return l+i+"  "+r})}var Lr=bo,Po=Lr,Ao=6,Oo="-n";function Io(t,e){var r=0,n=e.findIndex(function(c){return c===Oo}),i=n!==-1;i&&e.splice(n,1),Promise.all(e.map(function(c){return t.system.read(c).then(null,function(l){return r=1,"cat: "+l})})).then(function(c){return i?Po(Ao,c):c}).then(function(c){t.output(c.join(`
`)),t.exit(r)})}var Eo=Io;function $o(t,e){var r=e[0]||"/home/"+t.system.state.user;t.system.changeDir(r).then(t.exit,function(n){t.error(n),t.exit(1)})}var xo=$o,yr="SINGLE_COPY";function To(t,e){var r=e.findIndex(function(u){return u==="-r"||u==="-R"}),n=r!==-1;if(n&&e.splice(r,1),!e.length){t.error("cp: missing file operand"),t.exit(1);return}if(e.length===1){t.error("cp: missing destination file operand after ‘"+e[0]+"’"),t.exit(1);return}var i=e[e.length-1],c=e.slice(0,-1);function l(u,s){return t.system.stat(u).then(function(f){return f.type==="dir"&&!n?Promise.reject("cp: omitting directory ‘"+u+"’"):t.system.copy(u,s)})}t.system.stat(i).then(function(u){if(u.type!=="dir")return Promise.reject()}).catch(function(){return c.length!==1?Promise.reject("cp: target ‘"+i+"’ is not a directory"):yr}).then(function(u){return u===yr?l(c[0],i):Promise.all(c.map(function(s){var f=s.split("/"),p=f[f.length-1],y=i+"/"+p;return l(s,y)}))}).then(function(){t.exit(0)}).catch(function(u){t.error(u),t.exit(1)})}var Ro=To,No=Lr,Co=5;function Fo(t){t.system.getHistory().then(function(e){t.output(No(Co,e).join(`
`)),t.exit()})}var Wo=Fo,qo=`
The output here is limited.
On a real system you would also see file permissions, user, group, block size and more.`;function Do(t,e){var r=e.findIndex(function(p){return p==="-a"}),n=r!==-1;n&&e.splice(r,1);var i=e.findIndex(function(p){return p==="-l"}),c=i!==-1;c&&e.splice(i,1);var l=e.findIndex(function(p){return p==="-la"});l!==-1&&(n=!0,c=!0,e.splice(l,1));var u=e.findIndex(function(p){return p==="-al"});u!==-1&&(n=!0,c=!0,e.splice(u,1)),e.length||e.push(".");function s(p){return n?p:p.filter(function(y){return y[0]!=="."})}function f(p,y){return c?Promise.all(y.map(function(d){return t.system.stat(p+"/"+d).then(function(m){var b=new Date(m.modified),$=b.toDateString().slice(4,10)+" "+b.toTimeString().slice(0,5),N=m.type;return N==="dir"&&(N+=" "),N+"  "+$+"  "+m.name})})).then(function(d){return"total "+d.length+`
`+d.join(`
`)+qo}):Promise.resolve(y.join(" "))}Promise.all(e.sort().map(function(p){return t.system.readDir(p).then(s).then(function(y){return f(p,y)}).then(function(y){return e.length===1?y:p+`:
`+y})})).then(function(p){return p.join(`

`)}).then(function(p){t.output(p),t.exit()},function(p){t.output("ls: "+p),t.exit(2)})}var Lo=Do;function _o(t,e){if(!e.length){t.error("mkdir: missing operand"),t.exit(1);return}Promise.all(e.map(function(r){return t.system.createDir(r)})).then(function(){t.exit()},function(r){t.error(r),t.exit(1)})}var Mo=_o,dr="SINGLE_COPY";function ko(t,e){var r=e.findIndex(function(u){return u==="-n"}),n=r!==-1;if(n&&e.splice(r,1),!e.length){t.error("mv: missing file operand"),t.exit(1);return}if(e.length===1){t.error("mv: missing destination file operand after ‘"+e[0]+"’"),t.exit(1);return}var i=e[e.length-1],c=e.slice(0,-1);function l(u,s){return n?t.system.stat(s).catch(function(){return t.system.copy(u,s).then(function(){return t.system.remove(u)})}):t.system.copy(u,s).then(function(){return t.system.remove(u)})}t.system.stat(i).then(function(u){if(u.type!=="dir")return Promise.reject()}).catch(function(){return c.length!==1?Promise.reject("mv: target ‘"+i+"’ is not a directory"):dr}).then(function(u){return u===dr?l(c[0],i):Promise.all(c.map(function(s){var f=s.split("/"),p=f[f.length-1],y=i+"/"+p;return l(s,y)}))}).then(function(){t.exit(0)}).catch(function(u){t.error(u),t.exit(1)})}var jo=ko;function Bo(t,e){t.system.getDir().then(function(r){t.output(r),t.exit()})}var Go=Bo;function Uo(t,e){var r=e.findIndex(function(i){return i.toLowerCase()==="-r"}),n=r!==-1;if(n&&e.splice(r,1),!e.length){t.error("rm: missing operand"),t.exit(1);return}Promise.all(e.map(function(i){return t.system.stat(i).then(function(c){var l=c.type==="dir";if(l&&!n)return Promise.reject("rm: cannot remove ‘"+i+"’: Is a directory")},function(){}).then(function(){return t.system.remove(i)})})).then(function(){t.exit()},function(i){t.error(i),t.exit(1)})}var Ho=Uo;function zo(t,e){if(!e.length){t.error("rmdir: missing operand"),t.exit(1);return}Promise.all(e.map(function(r){return t.system.stat(r).then(function(n){if(n.type!=="dir")return Promise.reject("rmdir: cannot remove ‘"+r+"’: Not a directory")},function(){}).then(function(){return t.system.readDir(r)}).then(function(n){if(n.length)return Promise.reject("rmdir: failed to remove ‘"+r+"’: Directory not empty")}).then(function(){return t.system.remove(r)})})).then(function(){t.exit()},function(r){t.error(r),t.exit(1)})}var Ko=zo;function Vo(t,e){if(!e.length){t.error("touch: missing file operand"),t.exit(1);return}Promise.all(e.map(function(r){return t.system.write(r,"")})).then(function(){t.exit()},function(r){t.error(r),t.exit(1)})}var Jo=Vo,Yo={cat:Eo,cd:xo,cp:Ro,history:Wo,ls:Lo,mkdir:Mo,mv:jo,pwd:Go,rm:Ho,rmdir:Ko,touch:Jo},Xo=Yo,nt=Xo;function Qo(t){var e=Zo(t),r={};function n(l){return ta(e.workingDirectory,l)}function i(l){var u=n(l).split("/").slice(0,-1).join("/");return c.stat(u).then(function(s){return s.type==="dir"?Promise.resolve():Promise.reject(u+": Is not a directory")})}var c={commands:nt,state:e,run:function(l){var u=l.split(" "),s=u.shift();if(e.history.push(l),!nt[s])return Promise.reject(s+": command not found");var f="";return new Promise(function(p,y){nt[s]({output:function(d){f+=d},error:function(d){f+=d},exit:function(d){d?y(f):p(f)},system:c},u)})},getDir:function(){return Promise.resolve(e.workingDirectory)},changeDir:function(l){var u=n(l);return e.fileSystem[u]?(e.workingDirectory=u,Promise.resolve()):Promise.reject(u+": No such file or directory")},read:function(l){var u=n(l);return e.fileSystem[u]?e.fileSystem[u].type!=="file"?Promise.reject(l+": Is a directory"):Promise.resolve(e.fileSystem[u].content):Promise.reject(l+": No such file or directory")},readDir:function(l){var u=n(l);if(!e.fileSystem[u])return Promise.reject("cannot access ‘"+l+"’: No such file or directory");var s=Object.keys(e.fileSystem).filter(function(f){return f.startsWith(u)&&f!==u}).map(function(f){return f.substr(u==="/"?u.length:u.length+1)}).filter(function(f){return!f.includes("/")}).sort();return Promise.resolve(s)},stat:function(l){var u=n(l);if(!e.fileSystem[u])return Promise.reject(l+": No such file or directory");var s=u.split("/");return Promise.resolve({modified:e.fileSystem[u].modified,type:e.fileSystem[u].type,name:s[s.length-1]})},createDir:function(l){return c.stat(l).then(function(){return Promise.reject("cannot create directory '"+l+"': File exists")},function(){return i(l)}).then(function(){var u=n(l);e.fileSystem[u]={type:"dir",modified:Date.now()}})},write:function(l,u){if(typeof u!="string")try{u=JSON.stringify(u)}catch(s){return Promise.reject(s)}return i(l).then(function(){var s=n(l);return c.stat(l).then(function(f){if(f.type!=="file")return Promise.reject(s+": Is a folder");var p=e.fileSystem[s].content;e.fileSystem[s].content=p+u,e.fileSystem[s].modified=Date.now()},function(){e.fileSystem[s]={type:"file",modified:Date.now(),content:u}})})},remove:function(l){var u=n(l);return e.fileSystem[u]?(Object.keys(e.fileSystem).forEach(function(s){s.startsWith(u)&&delete e.fileSystem[s]}),Promise.resolve()):Promise.reject("cannot remove ‘"+l+"’: No such file or directory")},copy:function(l,u){var s=n(l),f=n(u);if(!e.fileSystem[s])return Promise.reject(l+": No such file or directory");function p(y){if(y.startsWith(s)){var d=y.replace(s,f);e.fileSystem[d]=e.fileSystem[y]}}return i(f).then(function(){Object.keys(e.fileSystem).forEach(p)})},getHistory:function(){return Promise.resolve(e.history)},completeUp:function(l){var u=r.historySize!==e.history.length,s=l!==r.input;if(s||u)r.input=l,r.index=0,r.historySize=e.history.length,r.list=e.history.filter(function(f){return f.startsWith(l)}).reverse();else if(r.index<r.list.length-1)r.index++;else return Promise.resolve(void 0);return Promise.resolve(r.list[r.index])},completeDown:function(l){return l!==r.input||!r.index?Promise.resolve(void 0):(r.index--,Promise.resolve(r.list[r.index]))}};return c}function Zo(t){var e=ea();return t&&Object.keys(e).forEach(function(r){t[r]&&(e[r]=t[r])}),e}function ea(){return{history:[],fileSystem:{"/":{type:"dir",modified:Date.now()},"/home":{type:"dir",modified:Date.now()},"/home/user":{type:"dir",modified:Date.now()}},user:"user",workingDirectory:"/home/user"}}function ta(t,e){if(!e)return t;for(var r=(e.charAt(0)==="/"?"":t+"/")+e,n=r.split("/").filter(function(s){return!!s}),i=0,c=n.length-1;c>=0;c--){var l=n[c];l==="."?n.splice(c,1):l===".."?(n.splice(c,1),i++):i&&(n.splice(c,1),i--)}return"/"+n.join("/")}var ra=Qo;class na extends HTMLElement{constructor(){super(),this.innerHTML='<window-column class="window-column"></window-column>',this.lastKeypress=Date.now()}get windowColumns(){return this.querySelectorAll(".window-column")}get allWindows(){return this.querySelectorAll(".window-container")}get selectedWindow(){return this._selectedWindow==null?(this._selectedWindow=this.querySelector(".window-container"),this._selectedWindow):this._selectedWindow}set selectedWindow(e){this.selectedWindow.classList.remove("selected-window"),this._selectedWindow=e,this._selectedWindow&&(this._selectedWindow.customFocus(),console.log(document.activeElement,e),e.classList.add("selected-window"))}createNewColumn(e){let r=document.createElement("window-column");return r.classList.add("window-column"),e>0?this.appendChild(r):this.prepend(r),r}moveSelectedWindowHorizontally(e){let r=this.selectedWindow.parentElement,n=Array.from(this.children),i=n.indexOf(r)+e,c=i<0||i>n.length-1;if(r.children.length>1)c?this.createNewColumn(e).appendChild(this.selectedWindow):n[i].appendChild(this.selectedWindow);else if(!c){let u=n[i];this.selectedWindow.parentElement.remove(),u.appendChild(this.selectedWindow)}}moveSelectedWindowVertically(e){}selectWindowInColumn(e){let r=this.selectedWindow.parentElement,n=Array.from(r.children),i=n.indexOf(this.selectedWindow)+e;i<0&&(i=n.length+e),i>n.length-1&&(i=0),this.selectedWindow=n[i]}selectWindowInRow(e){let r=this.selectedWindow.parentElement,n=Array.from(this.children),i=n.indexOf(r)+e;i<0&&(i=n.length+e),i>n.length-1&&(i=0);let c=n[i].children[0];this.selectedWindow=c}createNewWindow(e){let r=document.createElement(e);this.querySelector("window-column")||this.appendChild(document.createElement("window-column")),this.querySelector("window-column").appendChild(r),this.selectedWindow=r}connectedCallback(){this.createNewWindow("terminal-emulator"),document.addEventListener("keydown",e=>{if(e.key=="ArrowDown"&&e.shiftKey){this.moveSelectedWindowVertically(1);return}if(e.key=="ArrowDown"){this.selectWindowInColumn(1);return}if(e.key=="ArrowUp"&&e.shiftKey){this.moveSelectedWindowVertically(-1);return}if(e.key=="ArrowUp"){this.selectWindowInColumn(-1);return}if(e.key=="ArrowLeft"&&e.shiftKey){this.moveSelectedWindowHorizontally(-1);return}if(e.key=="ArrowLeft"){this.selectWindowInRow(-1);return}if(e.key=="ArrowRight"&&e.shiftKey){this.moveSelectedWindowHorizontally(1);return}if(e.key=="ArrowRight"){this.selectWindowInRow(1);return}if(e.key=="Enter"&&e.shiftKey){this.createNewWindow("terminal-emulator");return}if(e.key=="W"){this.selectedWindow.removeWindow(),this.selectedWindow=this.querySelector(".window-container");return}})}}class ft extends HTMLElement{constructor(){super()}get windowManager(){return this.parentElement.parentElement}set created(e){this.setAttribute("created",e)}get created(){return this.hasAttribute("created")?this.getAttribute("created")==="true":!1}set title(e){this.setAttribute("title",e)}get title(){return this.hasAttribute("title")||this.setAttribute("title","empty"),this.getAttribute("title")}set content(e){this._content=e}get content(){return this._content==null?"Empty":this._content}customFocus(){this.querySelector(".window-content").focus()}removeWindow(){this.parentElement&&(this.parentElement.children.length==1&&this.parentElement.remove(),this.windowManager&&console.log(this.windowManager.selectedWindow),this.remove())}connectedCallback(){this.innerHTML=`
      <div class="window-titlebar">
        <p class="window-title">${this.title}</p>
        <div class="window-buttons">
          <i class="ti ti-x window-close-button"></i>
        </div>
      </div>
      <div class="window-content">
        ${this.content}
      </div>
    `,this.querySelector(".window-content").innerHTML=this.content,this.classList.add("window-container"),this.queryselector(".window-close-button").addeventlistener("click",()=>{this.removewindow()}),this.querySelector(".window-title").innerHTML=this.title}}class ia extends ft{constructor(){super(),this.emulator=ra({workingDirectory:"/",fileSystem:{"/":{type:"dir",modified:Date.now()},"/README.txt":{type:"file",modified:Date.now(),content:"Hello!"}}}),this.emulator.commands.clear=e=>{this.content=""},this.emulator.commands.exit=e=>{console.log(this),this.removeWindow()}}set content(e){this._content=e,this.querySelector(".terminal-emulator-content")&&(this.querySelector(".terminal-emulator-content").innerHTML=e)}get content(){return this._content}error(e){e&&(this.content=this.content+e+`
`)}run(e){return this.log("$ "+e),this.emulator.run(e).then(r=>{this.log(r)},r=>{this.error(r)})}log(e){e&&(this.content=this.content+e+`
`,this.querySelector(".terminal-emulator-content").scrollTop=this.querySelector(".terminal-emulator-content").scrollHeight)}customFocus(){this.querySelector(".terminal-emulator-input").focus()}connectedCallback(){this.created||(this.created=!0,this.title="Terminal Emulator",this.content="",this.innerHTML=`
        <div class="window-titlebar">
          <p class="window-title">${this.title}</p>
          <div class="window-buttons">     
            <i class="ti ti-x window-close-button"></i>
          </div>
        </div>
        <div class="window-terminal-content">
          <p class='terminal-emulator-content' spellcheck='false'></p>
          <input type='text' class='terminal-emulator-input'></input>
        </div>
      `,this.querySelector(".terminal-emulator-content").innerHTML=this.content,this.classList.add("window-container"),this.querySelector(".window-title").innerHTML=this.title,this.querySelector(".terminal-emulator-input").addEventListener("keydown",e=>{console.log(e);let r=this.querySelector(".terminal-emulator-input");e.key=="Enter"&&(this.run(r.value),r.value="")}),this.querySelector(".window-close-button").addEventListener("click",()=>{this.removeWindow()}),this.run("pwd"))}}class oa extends ft{constructor(){super()}customFocus(){this.querySelector(".custom-text-editor").focus()}parseTextEditor(e){let r=e.target.value,n=r.split(`
`).length,i=this.querySelector(".custom-text-editor-columns");this.content=r,i.innerHTML="";for(let c=1;c<n+1;c++){let l=document.createElement("p");l.innerText=c,i.appendChild(l)}}connectedCallback(){this.title="Code editor",this.content="",this.innerHTML=`
      <div class="window-titlebar">
        <p class="window-title">${this.title}</p>
        <div class="window-buttons">
        </div>
      </div>
      <div class="window-content">
        <div class='custom-text-editor-columns'>1</div><textarea wrap='off' class='custom-text-editor' spellcheck='false'></textarea>
      </div>
    `,this.querySelector(".custom-text-editor").innerHTML=this.content,this.classList.add("window-container"),this.querySelector(".custom-text-editor").addEventListener("input",e=>{this.parseTextEditor(e)}),this.querySelector(".window-title").innerHTML=this.title}}customElements.define("window-manager",na);customElements.define("custom-window",ft);customElements.define("code-editor",oa);customElements.define("terminal-emulator",ia);document.querySelector("#app").innerHTML=`
  <div class="main-container">
    <status-bar>
      <div class="branding-container">
        <img src="./src/img/monkey.svg" class="brand-logo">
        <p>aesthetic programming environment</p>
      </div>
      <status-indicator class="status-indicator">
        <i class="ti ti-database"></i>
        <p>1kB/10mB</p>
      </status-indicator>
    </status-bar>
    <window-manager>

    </window-manager>
  </div>
`;
