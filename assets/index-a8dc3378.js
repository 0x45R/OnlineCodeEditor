(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(i){if(i.ep)return;i.ep=!0;const c=t(i);fetch(i.href,c)}})();function an(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var c=Function.bind.apply(e,i);return new c}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var Cr=Object.prototype.toString,vt=function(e){var t=Cr.call(e),n=t==="[object Arguments]";return n||(n=t!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Cr.call(e.callee)==="[object Function]"),n},Te,Fr;function un(){if(Fr)return Te;Fr=1;var r;if(!Object.keys){var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=vt,i=Object.prototype.propertyIsEnumerable,c=!i.call({toString:null},"toString"),l=i.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=function(d){var v=d.constructor;return v&&v.prototype===d},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if(typeof window>"u")return!1;for(var d in window)try{if(!f["$"+d]&&e.call(window,d)&&window[d]!==null&&typeof window[d]=="object")try{s(window[d])}catch{return!0}}catch{return!0}return!1}(),y=function(d){if(typeof window>"u"||!p)return s(d);try{return s(d)}catch{return!1}};r=function(v){var w=v!==null&&typeof v=="object",$=t.call(v)==="[object Function]",N=n(v),X=w&&t.call(v)==="[object String]",T=[];if(!w&&!$&&!N)throw new TypeError("Object.keys called on a non-object");var E=l&&$;if(X&&v.length>0&&!e.call(v,0))for(var P=0;P<v.length;++P)T.push(String(P));if(N&&v.length>0)for(var F=0;F<v.length;++F)T.push(String(F));else for(var j in v)!(E&&j==="prototype")&&e.call(v,j)&&T.push(String(j));if(c)for(var re=y(v),A=0;A<u.length;++A)!(re&&u[A]==="constructor")&&e.call(v,u[A])&&T.push(u[A]);return T}}return Te=r,Te}var ln=Array.prototype.slice,cn=vt,Wr=Object.keys,oe=Wr?function(e){return Wr(e)}:un(),Dr=Object.keys;oe.shim=function(){if(Object.keys){var e=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);e||(Object.keys=function(n){return cn(n)?Dr(ln.call(n)):Dr(n)})}else Object.keys=oe;return Object.keys||oe};var sn=oe,mt=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,t);if(l.value!==i||l.enumerable!==!0)return!1}return!0},qr=typeof Symbol<"u"&&Symbol,fn=mt,ht=function(){return typeof qr!="function"||typeof Symbol!="function"||typeof qr("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:fn()},pn="Function.prototype.bind called on incompatible ",Re=Array.prototype.slice,yn=Object.prototype.toString,dn="[object Function]",vn=function(e){var t=this;if(typeof t!="function"||yn.call(t)!==dn)throw new TypeError(pn+t);for(var n=Re.call(arguments,1),i,c=function(){if(this instanceof i){var p=t.apply(this,n.concat(Re.call(arguments)));return Object(p)===p?p:this}else return t.apply(e,n.concat(Re.call(arguments)))},l=Math.max(0,t.length-n.length),u=[],s=0;s<l;s++)u.push("$"+s);if(i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(c),t.prototype){var f=function(){};f.prototype=t.prototype,i.prototype=new f,f.prototype=null}return i},mn=vn,sr=Function.prototype.bind||mn,hn=sr,gt=hn.call(Function.call,Object.prototype.hasOwnProperty),h,J=SyntaxError,St=Function,V=TypeError,Ne=function(r){try{return St('"use strict"; return ('+r+").constructor;")()}catch{}},M=Object.getOwnPropertyDescriptor;if(M)try{M({},"")}catch{M=null}var Ce=function(){throw new V},gn=M?function(){try{return arguments.callee,Ce}catch{try{return M(arguments,"callee").get}catch{return Ce}}}():Ce,H=ht(),C=Object.getPrototypeOf||function(r){return r.__proto__},z={},Sn=typeof Uint8Array>"u"?h:C(Uint8Array),k={"%AggregateError%":typeof AggregateError>"u"?h:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?h:ArrayBuffer,"%ArrayIteratorPrototype%":H?C([][Symbol.iterator]()):h,"%AsyncFromSyncIteratorPrototype%":h,"%AsyncFunction%":z,"%AsyncGenerator%":z,"%AsyncGeneratorFunction%":z,"%AsyncIteratorPrototype%":z,"%Atomics%":typeof Atomics>"u"?h:Atomics,"%BigInt%":typeof BigInt>"u"?h:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?h:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?h:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?h:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?h:Float32Array,"%Float64Array%":typeof Float64Array>"u"?h:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?h:FinalizationRegistry,"%Function%":St,"%GeneratorFunction%":z,"%Int8Array%":typeof Int8Array>"u"?h:Int8Array,"%Int16Array%":typeof Int16Array>"u"?h:Int16Array,"%Int32Array%":typeof Int32Array>"u"?h:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":H?C(C([][Symbol.iterator]())):h,"%JSON%":typeof JSON=="object"?JSON:h,"%Map%":typeof Map>"u"?h:Map,"%MapIteratorPrototype%":typeof Map>"u"||!H?h:C(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?h:Promise,"%Proxy%":typeof Proxy>"u"?h:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?h:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?h:Set,"%SetIteratorPrototype%":typeof Set>"u"||!H?h:C(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?h:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":H?C(""[Symbol.iterator]()):h,"%Symbol%":H?Symbol:h,"%SyntaxError%":J,"%ThrowTypeError%":gn,"%TypedArray%":Sn,"%TypeError%":V,"%Uint8Array%":typeof Uint8Array>"u"?h:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?h:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?h:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?h:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?h:WeakMap,"%WeakRef%":typeof WeakRef>"u"?h:WeakRef,"%WeakSet%":typeof WeakSet>"u"?h:WeakSet};try{null.error}catch(r){var bn=C(C(r));k["%Error.prototype%"]=bn}var wn=function r(e){var t;if(e==="%AsyncFunction%")t=Ne("async function () {}");else if(e==="%GeneratorFunction%")t=Ne("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=Ne("async function* () {}");else if(e==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=r("%AsyncGenerator%");i&&(t=C(i.prototype))}return k[e]=t,t},Lr={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ee=sr,le=gt,Pn=ee.call(Function.call,Array.prototype.concat),An=ee.call(Function.apply,Array.prototype.splice),_r=ee.call(Function.call,String.prototype.replace),ce=ee.call(Function.call,String.prototype.slice),On=ee.call(Function.call,RegExp.prototype.exec),In=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,En=/\\(\\)?/g,$n=function(e){var t=ce(e,0,1),n=ce(e,-1);if(t==="%"&&n!=="%")throw new J("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new J("invalid intrinsic syntax, expected opening `%`");var i=[];return _r(e,In,function(c,l,u,s){i[i.length]=u?_r(s,En,"$1"):l||c}),i},xn=function(e,t){var n=e,i;if(le(Lr,n)&&(i=Lr[n],n="%"+i[0]+"%"),le(k,n)){var c=k[n];if(c===z&&(c=wn(n)),typeof c>"u"&&!t)throw new V("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:c}}throw new J("intrinsic "+e+" does not exist!")},I=function(e,t){if(typeof e!="string"||e.length===0)throw new V("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new V('"allowMissing" argument must be a boolean');if(On(/^%?[^%]*%?$/,e)===null)throw new J("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=$n(e),i=n.length>0?n[0]:"",c=xn("%"+i+"%",t),l=c.name,u=c.value,s=!1,f=c.alias;f&&(i=f[0],An(n,Pn([0,1],f)));for(var p=1,y=!0;p<n.length;p+=1){var d=n[p],v=ce(d,0,1),w=ce(d,-1);if((v==='"'||v==="'"||v==="`"||w==='"'||w==="'"||w==="`")&&v!==w)throw new J("property names with quotes must have matching quotes");if((d==="constructor"||!y)&&(s=!0),i+="."+d,l="%"+i+"%",le(k,l))u=k[l];else if(u!=null){if(!(d in u)){if(!t)throw new V("base intrinsic for "+e+" exists, but the property is not available.");return}if(M&&p+1>=n.length){var $=M(u,d);y=!!$,y&&"get"in $&&!("originalValue"in $.get)?u=$.get:u=u[d]}else y=le(u,d),u=u[d];y&&!s&&(k[l]=u)}}return u},Tn=I,ir=Tn("%Object.defineProperty%",!0),or=function(){if(ir)try{return ir({},"a",{value:1}),!0}catch{return!1}return!1};or.hasArrayLengthDefineBug=function(){if(!or())return null;try{return ir([],"length",{value:1}).length!==1}catch{return!0}};var Rn=or,Nn=sn,Cn=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Fn=Object.prototype.toString,Wn=Array.prototype.concat,bt=Object.defineProperty,Dn=function(r){return typeof r=="function"&&Fn.call(r)==="[object Function]"},qn=Rn(),wt=bt&&qn,Ln=function(r,e,t,n){if(e in r){if(n===!0){if(r[e]===t)return}else if(!Dn(n)||!n())return}wt?bt(r,e,{configurable:!0,enumerable:!1,value:t,writable:!0}):r[e]=t},Pt=function(r,e){var t=arguments.length>2?arguments[2]:{},n=Nn(e);Cn&&(n=Wn.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)Ln(r,n[i],e[n[i]],t[n[i]])};Pt.supportsDescriptors=!!wt;var At=Pt,se={},_n={get exports(){return se},set exports(r){se=r}},Mn=I,kn=Mn("%TypeError%"),jn=function(e,t){if(e==null)throw new kn(t||"Cannot call method on "+e);return e};(function(r){r.exports=jn})(_n);var fe={},Bn={get exports(){return fe},set exports(r){fe=r}};(function(r){var e=sr,t=I,n=t("%Function.prototype.apply%"),i=t("%Function.prototype.call%"),c=t("%Reflect.apply%",!0)||e.call(i,n),l=t("%Object.getOwnPropertyDescriptor%",!0),u=t("%Object.defineProperty%",!0),s=t("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}r.exports=function(y){var d=c(e,i,arguments);if(l&&u){var v=l(d,"length");v.configurable&&u(d,"length",{value:1+s(0,y.length-(arguments.length-1))})}return d};var f=function(){return c(e,n,arguments)};u?u(r.exports,"apply",{value:f}):r.exports.apply=f})(Bn);var Ot=I,It=fe,Gn=It(Ot("String.prototype.indexOf")),Y=function(e,t){var n=Ot(e,!!t);return typeof n=="function"&&Gn(e,".prototype.")>-1?It(n):n},pe={},Un={get exports(){return pe},set exports(r){pe=r}},Fe,Mr;function Hn(){if(Mr)return Fe;Mr=1;var r=I,e=r("%Array%"),t=!e.isArray&&Y("Object.prototype.toString");return Fe=e.isArray||function(i){return t(i)==="[object Array]"},Fe}var kr;function zn(){return kr||(kr=1,function(r){r.exports=Hn()}(Un)),pe}var Et=I,Kn=Y,Vn=Et("%TypeError%"),Jn=zn(),Yn=Et("%Reflect.apply%",!0)||Kn("%Function.prototype.apply%"),Xn=function(e,t){var n=arguments.length>2?arguments[2]:[];if(!Jn(n))throw new Vn("Assertion failed: optional `argumentsList`, if provided, must be a List");return Yn(e,t,n)};const Qn={},Zn=Object.freeze(Object.defineProperty({__proto__:null,default:Qn},Symbol.toStringTag,{value:"Module"})),ei=an(Zn);var We,jr;function ri(){if(jr)return We;jr=1;var r=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=r&&e&&typeof e.get=="function"?e.get:null,n=r&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,c=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=i&&c&&typeof c.get=="function"?c.get:null,u=i&&Set.prototype.forEach,s=typeof WeakMap=="function"&&WeakMap.prototype,f=s?WeakMap.prototype.has:null,p=typeof WeakSet=="function"&&WeakSet.prototype,y=p?WeakSet.prototype.has:null,d=typeof WeakRef=="function"&&WeakRef.prototype,v=d?WeakRef.prototype.deref:null,w=Boolean.prototype.valueOf,$=Object.prototype.toString,N=Function.prototype.toString,X=String.prototype.match,T=String.prototype.slice,E=String.prototype.replace,P=String.prototype.toUpperCase,F=String.prototype.toLowerCase,j=RegExp.prototype.test,re=Array.prototype.concat,A=Array.prototype.join,_t=Array.prototype.slice,pr=Math.floor,ve=typeof BigInt=="function"?BigInt.prototype.valueOf:null,me=Object.getOwnPropertySymbols,he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,B=typeof Symbol=="function"&&typeof Symbol.iterator=="object",O=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===B||"symbol")?Symbol.toStringTag:null,yr=Object.prototype.propertyIsEnumerable,dr=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(o){return o.__proto__}:null);function vr(o,a){if(o===1/0||o===-1/0||o!==o||o&&o>-1e3&&o<1e3||j.call(/e/,a))return a;var g=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof o=="number"){var S=o<0?-pr(-o):pr(o);if(S!==o){var b=String(S),m=T.call(a,b.length+1);return E.call(b,g,"$&_")+"."+E.call(E.call(m,/([0-9]{3})/g,"$&_"),/_$/,"")}}return E.call(a,g,"$&_")}var ge=ei,mr=ge.custom,hr=br(mr)?mr:null;We=function o(a,g,S,b){var m=g||{};if(W(m,"quoteStyle")&&m.quoteStyle!=="single"&&m.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(W(m,"maxStringLength")&&(typeof m.maxStringLength=="number"?m.maxStringLength<0&&m.maxStringLength!==1/0:m.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var q=W(m,"customInspect")?m.customInspect:!0;if(typeof q!="boolean"&&q!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(W(m,"indent")&&m.indent!==null&&m.indent!=="	"&&!(parseInt(m.indent,10)===m.indent&&m.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(W(m,"numericSeparator")&&typeof m.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var _=m.numericSeparator;if(typeof a>"u")return"undefined";if(a===null)return"null";if(typeof a=="boolean")return a?"true":"false";if(typeof a=="string")return Pr(a,m);if(typeof a=="number"){if(a===0)return 1/0/a>0?"0":"-0";var x=String(a);return _?vr(a,x):x}if(typeof a=="bigint"){var L=String(a)+"n";return _?vr(a,L):L}var Pe=typeof m.depth>"u"?5:m.depth;if(typeof S>"u"&&(S=0),S>=Pe&&Pe>0&&typeof a=="object")return Se(a)?"[Array]":"[Object]";var G=tn(m,S);if(typeof b>"u")b=[];else if(wr(b,a)>=0)return"[Circular]";function R(U,ie,on){if(ie&&(b=_t.call(b),b.push(ie)),on){var Nr={depth:m.depth};return W(m,"quoteStyle")&&(Nr.quoteStyle=m.quoteStyle),o(U,Nr,S+1,b)}return o(U,m,S+1,b)}if(typeof a=="function"&&!Sr(a)){var Or=Kt(a),Ir=te(a,R);return"[Function"+(Or?": "+Or:" (anonymous)")+"]"+(Ir.length>0?" { "+A.call(Ir,", ")+" }":"")}if(br(a)){var Er=B?E.call(String(a),/^(Symbol\(.*\))_[^)]*$/,"$1"):he.call(a);return typeof a=="object"&&!B?Q(Er):Er}if(Zt(a)){for(var Z="<"+F.call(String(a.nodeName)),Ae=a.attributes||[],ne=0;ne<Ae.length;ne++)Z+=" "+Ae[ne].name+"="+gr(Mt(Ae[ne].value),"double",m);return Z+=">",a.childNodes&&a.childNodes.length&&(Z+="..."),Z+="</"+F.call(String(a.nodeName))+">",Z}if(Se(a)){if(a.length===0)return"[]";var Oe=te(a,R);return G&&!rn(Oe)?"["+we(Oe,G)+"]":"[ "+A.call(Oe,", ")+" ]"}if(jt(a)){var Ie=te(a,R);return!("cause"in Error.prototype)&&"cause"in a&&!yr.call(a,"cause")?"{ ["+String(a)+"] "+A.call(re.call("[cause]: "+R(a.cause),Ie),", ")+" }":Ie.length===0?"["+String(a)+"]":"{ ["+String(a)+"] "+A.call(Ie,", ")+" }"}if(typeof a=="object"&&q){if(hr&&typeof a[hr]=="function"&&ge)return ge(a,{depth:Pe-S});if(q!=="symbol"&&typeof a.inspect=="function")return a.inspect()}if(Vt(a)){var $r=[];return n&&n.call(a,function(U,ie){$r.push(R(ie,a,!0)+" => "+R(U,a))}),Ar("Map",t.call(a),$r,G)}if(Xt(a)){var xr=[];return u&&u.call(a,function(U){xr.push(R(U,a))}),Ar("Set",l.call(a),xr,G)}if(Jt(a))return be("WeakMap");if(Qt(a))return be("WeakSet");if(Yt(a))return be("WeakRef");if(Gt(a))return Q(R(Number(a)));if(Ht(a))return Q(R(ve.call(a)));if(Ut(a))return Q(w.call(a));if(Bt(a))return Q(R(String(a)));if(!kt(a)&&!Sr(a)){var Ee=te(a,R),Tr=dr?dr(a)===Object.prototype:a instanceof Object||a.constructor===Object,$e=a instanceof Object?"":"null prototype",Rr=!Tr&&O&&Object(a)===a&&O in a?T.call(D(a),8,-1):$e?"Object":"",nn=Tr||typeof a.constructor!="function"?"":a.constructor.name?a.constructor.name+" ":"",xe=nn+(Rr||$e?"["+A.call(re.call([],Rr||[],$e||[]),": ")+"] ":"");return Ee.length===0?xe+"{}":G?xe+"{"+we(Ee,G)+"}":xe+"{ "+A.call(Ee,", ")+" }"}return String(a)};function gr(o,a,g){var S=(g.quoteStyle||a)==="double"?'"':"'";return S+o+S}function Mt(o){return E.call(String(o),/"/g,"&quot;")}function Se(o){return D(o)==="[object Array]"&&(!O||!(typeof o=="object"&&O in o))}function kt(o){return D(o)==="[object Date]"&&(!O||!(typeof o=="object"&&O in o))}function Sr(o){return D(o)==="[object RegExp]"&&(!O||!(typeof o=="object"&&O in o))}function jt(o){return D(o)==="[object Error]"&&(!O||!(typeof o=="object"&&O in o))}function Bt(o){return D(o)==="[object String]"&&(!O||!(typeof o=="object"&&O in o))}function Gt(o){return D(o)==="[object Number]"&&(!O||!(typeof o=="object"&&O in o))}function Ut(o){return D(o)==="[object Boolean]"&&(!O||!(typeof o=="object"&&O in o))}function br(o){if(B)return o&&typeof o=="object"&&o instanceof Symbol;if(typeof o=="symbol")return!0;if(!o||typeof o!="object"||!he)return!1;try{return he.call(o),!0}catch{}return!1}function Ht(o){if(!o||typeof o!="object"||!ve)return!1;try{return ve.call(o),!0}catch{}return!1}var zt=Object.prototype.hasOwnProperty||function(o){return o in this};function W(o,a){return zt.call(o,a)}function D(o){return $.call(o)}function Kt(o){if(o.name)return o.name;var a=X.call(N.call(o),/^function\s*([\w$]+)/);return a?a[1]:null}function wr(o,a){if(o.indexOf)return o.indexOf(a);for(var g=0,S=o.length;g<S;g++)if(o[g]===a)return g;return-1}function Vt(o){if(!t||!o||typeof o!="object")return!1;try{t.call(o);try{l.call(o)}catch{return!0}return o instanceof Map}catch{}return!1}function Jt(o){if(!f||!o||typeof o!="object")return!1;try{f.call(o,f);try{y.call(o,y)}catch{return!0}return o instanceof WeakMap}catch{}return!1}function Yt(o){if(!v||!o||typeof o!="object")return!1;try{return v.call(o),!0}catch{}return!1}function Xt(o){if(!l||!o||typeof o!="object")return!1;try{l.call(o);try{t.call(o)}catch{return!0}return o instanceof Set}catch{}return!1}function Qt(o){if(!y||!o||typeof o!="object")return!1;try{y.call(o,y);try{f.call(o,f)}catch{return!0}return o instanceof WeakSet}catch{}return!1}function Zt(o){return!o||typeof o!="object"?!1:typeof HTMLElement<"u"&&o instanceof HTMLElement?!0:typeof o.nodeName=="string"&&typeof o.getAttribute=="function"}function Pr(o,a){if(o.length>a.maxStringLength){var g=o.length-a.maxStringLength,S="... "+g+" more character"+(g>1?"s":"");return Pr(T.call(o,0,a.maxStringLength),a)+S}var b=E.call(E.call(o,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,en);return gr(b,"single",a)}function en(o){var a=o.charCodeAt(0),g={8:"b",9:"t",10:"n",12:"f",13:"r"}[a];return g?"\\"+g:"\\x"+(a<16?"0":"")+P.call(a.toString(16))}function Q(o){return"Object("+o+")"}function be(o){return o+" { ? }"}function Ar(o,a,g,S){var b=S?we(g,S):A.call(g,", ");return o+" ("+a+") {"+b+"}"}function rn(o){for(var a=0;a<o.length;a++)if(wr(o[a],`
`)>=0)return!1;return!0}function tn(o,a){var g;if(o.indent==="	")g="	";else if(typeof o.indent=="number"&&o.indent>0)g=A.call(Array(o.indent+1)," ");else return null;return{base:g,prev:A.call(Array(a+1),g)}}function we(o,a){if(o.length===0)return"";var g=`
`+a.prev+a.base;return g+A.call(o,","+g)+`
`+a.prev}function te(o,a){var g=Se(o),S=[];if(g){S.length=o.length;for(var b=0;b<o.length;b++)S[b]=W(o,b)?a(o[b],o):""}var m=typeof me=="function"?me(o):[],q;if(B){q={};for(var _=0;_<m.length;_++)q["$"+m[_]]=m[_]}for(var x in o)W(o,x)&&(g&&String(Number(x))===x&&x<o.length||B&&q["$"+x]instanceof Symbol||(j.call(/[^\w$]/,x)?S.push(a(x,o)+": "+a(o[x],o)):S.push(x+": "+a(o[x],o))));if(typeof me=="function")for(var L=0;L<m.length;L++)yr.call(o,m[L])&&S.push("["+a(m[L])+"]: "+a(o[m[L]],o));return S}return We}var De,Br;function ti(){return Br||(Br=1,De=function(e){return typeof e=="string"||typeof e=="symbol"}),De}var qe,Gr;function ni(){return Gr||(Gr=1,qe=function(e){if(e===null)return"Null";if(typeof e>"u")return"Undefined";if(typeof e=="function"||typeof e=="object")return"Object";if(typeof e=="number")return"Number";if(typeof e=="boolean")return"Boolean";if(typeof e=="string")return"String"}),qe}var Le,Ur;function de(){if(Ur)return Le;Ur=1;var r=ni();return Le=function(t){return typeof t=="symbol"?"Symbol":typeof t=="bigint"?"BigInt":r(t)},Le}var ii=I,Hr=ii("%TypeError%"),oi=ri(),ai=ti(),ui=de(),$t=function(e,t){if(ui(e)!=="Object")throw new Hr("Assertion failed: Type(O) is not Object");if(!ai(t))throw new Hr("Assertion failed: IsPropertyKey(P) is not true, got "+oi(t));return e[t]},ar={},li={get exports(){return ar},set exports(r){ar=r}},xt=Function.prototype.toString,K=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,ur,ae;if(typeof K=="function"&&typeof Object.defineProperty=="function")try{ur=Object.defineProperty({},"length",{get:function(){throw ae}}),ae={},K(function(){throw 42},null,ur)}catch(r){r!==ae&&(K=null)}else K=null;var ci=/^\s*class\b/,lr=function(e){try{var t=xt.call(e);return ci.test(t)}catch{return!1}},_e=function(e){try{return lr(e)?!1:(xt.call(e),!0)}catch{return!1}},ue=Object.prototype.toString,si="[object Object]",fi="[object Function]",pi="[object GeneratorFunction]",yi="[object HTMLAllCollection]",di="[object HTML document.all class]",vi="[object HTMLCollection]",mi=typeof Symbol=="function"&&!!Symbol.toStringTag,hi=!(0 in[,]),cr=function(){return!1};if(typeof document=="object"){var gi=document.all;ue.call(gi)===ue.call(document.all)&&(cr=function(e){if((hi||!e)&&(typeof e>"u"||typeof e=="object"))try{var t=ue.call(e);return(t===yi||t===di||t===vi||t===si)&&e("")==null}catch{}return!1})}var Tt=K?function(e){if(cr(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{K(e,null,ur)}catch(t){if(t!==ae)return!1}return!lr(e)&&_e(e)}:function(e){if(cr(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(mi)return _e(e);if(lr(e))return!1;var t=ue.call(e);return t!==fi&&t!==pi&&!/^\[object HTML/.test(t)?!1:_e(e)};(function(r){r.exports=Tt})(li);var Me,zr;function Si(){if(zr)return Me;zr=1;var r=I,e=r("%Math%"),t=r("%Number%");return Me=t.MAX_SAFE_INTEGER||e.pow(2,53)-1,Me}var ke,Kr;function bi(){if(Kr)return ke;Kr=1;var r=I,e=r("%Math.abs%");return ke=function(n){return e(n)},ke}var je,Vr;function wi(){if(Vr)return je;Vr=1;var r=de(),e=Math.floor;return je=function(n){return r(n)==="BigInt"?n:e(n)},je}var Be,Jr;function Pi(){return Jr||(Jr=1,Be=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),Be}var Ge,Yr;function Ai(){return Yr||(Yr=1,Ge=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),Ge}var Ue,Xr;function Rt(){if(Xr)return Ue;Xr=1;var r=mt;return Ue=function(){return r()&&!!Symbol.toStringTag},Ue}var He,Qr;function Oi(){if(Qr)return He;Qr=1;var r=Date.prototype.getDay,e=function(l){try{return r.call(l),!0}catch{return!1}},t=Object.prototype.toString,n="[object Date]",i=Rt()();return He=function(l){return typeof l!="object"||l===null?!1:i?e(l):t.call(l)===n},He}var ye={},Zr={get exports(){return ye},set exports(r){ye=r}},et;function Ii(){if(et)return ye;et=1;var r=Object.prototype.toString,e=ht();if(e){var t=Symbol.prototype.toString,n=/^Symbol\(.*\)$/,i=function(l){return typeof l.valueOf()!="symbol"?!1:n.test(t.call(l))};Zr.exports=function(l){if(typeof l=="symbol")return!0;if(r.call(l)!=="[object Symbol]")return!1;try{return i(l)}catch{return!1}}}else Zr.exports=function(l){return!1};return ye}var ze,rt;function Ei(){if(rt)return ze;rt=1;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",e=Ai(),t=Tt,n=Oi(),i=Ii(),c=function(s,f){if(typeof s>"u"||s===null)throw new TypeError("Cannot call method on "+s);if(typeof f!="string"||f!=="number"&&f!=="string")throw new TypeError('hint must be "string" or "number"');var p=f==="string"?["toString","valueOf"]:["valueOf","toString"],y,d,v;for(v=0;v<p.length;++v)if(y=s[p[v]],t(y)&&(d=y.call(s),e(d)))return d;throw new TypeError("No default value")},l=function(s,f){var p=s[f];if(p!==null&&typeof p<"u"){if(!t(p))throw new TypeError(p+" returned for property "+f+" of object "+s+" is not a function");return p}};return ze=function(s){if(e(s))return s;var f="default";arguments.length>1&&(arguments[1]===String?f="string":arguments[1]===Number&&(f="number"));var p;if(r&&(Symbol.toPrimitive?p=l(s,Symbol.toPrimitive):i(s)&&(p=Symbol.prototype.valueOf)),typeof p<"u"){var y=p.call(s,f);if(e(y))return y;throw new TypeError("unable to convert exotic object to primitive")}return f==="default"&&(n(s)||i(s))&&(f="string"),c(s,f==="default"?"number":f)},ze}var Ke,tt;function $i(){if(tt)return Ke;tt=1;var r=Ei();return Ke=function(t){return arguments.length>1?r(t,arguments[1]):r(t)},Ke}var Ve,nt;function xi(){if(nt)return Ve;nt=1;var r=Y,e=Rt()(),t,n,i,c;if(e){t=r("Object.prototype.hasOwnProperty"),n=r("RegExp.prototype.exec"),i={};var l=function(){throw i};c={toString:l,valueOf:l},typeof Symbol.toPrimitive=="symbol"&&(c[Symbol.toPrimitive]=l)}var u=r("Object.prototype.toString"),s=Object.getOwnPropertyDescriptor,f="[object RegExp]";return Ve=e?function(y){if(!y||typeof y!="object")return!1;var d=s(y,"lastIndex"),v=d&&t(d,"value");if(!v)return!1;try{n(y,c)}catch(w){return w===i}}:function(y){return!y||typeof y!="object"&&typeof y!="function"?!1:u(y)===f},Ve}var Je,it;function Ti(){if(it)return Je;it=1;var r=Y,e=I,t=xi(),n=r("RegExp.prototype.exec"),i=e("%TypeError%");return Je=function(l){if(!t(l))throw new i("`regex` must be a RegExp");return function(s){return n(l,s)!==null}},Je}var Ye,ot;function Ri(){if(ot)return Ye;ot=1;var r=I,e=r("%Number%"),t=r("%RegExp%"),n=r("%TypeError%"),i=r("%parseInt%"),c=Y,l=Ti(),u=c("String.prototype.slice"),s=l(/^0b[01]+$/i),f=l(/^0o[0-7]+$/i),p=l(/^[-+]0x[0-9a-f]+$/i),y=["","​","￾"].join(""),d=new t("["+y+"]","g"),v=l(d),w=[`	
\v\f\r   ᠎    `,"         　\u2028","\u2029\uFEFF"].join(""),$=new RegExp("(^["+w+"]+)|(["+w+"]+$)","g"),N=c("String.prototype.replace"),X=function(E){return N(E,$,"")},T=de();return Ye=function E(P){if(T(P)!=="String")throw new n("Assertion failed: `argument` is not a String");if(s(P))return e(i(u(P,2),2));if(f(P))return e(i(u(P,2),8));if(v(P)||p(P))return NaN;var F=X(P);return F!==P?E(F):e(P)},Ye}var Xe,at;function Ni(){if(at)return Xe;at=1;var r=I,e=r("%TypeError%"),t=r("%Number%"),n=Pi(),i=$i(),c=Ri();return Xe=function(u){var s=n(u)?u:i(u,t);if(typeof s=="symbol")throw new e("Cannot convert a Symbol value to a number");if(typeof s=="bigint")throw new e("Conversion from 'BigInt' to 'number' is not allowed.");return typeof s=="string"?c(s):t(s)},Xe}var Qe,ut;function Nt(){return ut||(ut=1,Qe=Number.isNaN||function(e){return e!==e}),Qe}var Ze,lt;function Ci(){if(lt)return Ze;lt=1;var r=Nt();return Ze=function(e){return(typeof e=="number"||typeof e=="bigint")&&!r(e)&&e!==1/0&&e!==-1/0},Ze}var er,ct;function Fi(){return ct||(ct=1,er=function(e){return e>=0?1:-1}),er}var rr,st;function Wi(){if(st)return rr;st=1;var r=bi(),e=wi(),t=Ni(),n=Nt(),i=Ci(),c=Fi();return rr=function(u){var s=t(u);if(n(s)||s===0)return 0;if(!i(s))return s;var f=e(r(s));return f===0?0:c(s)*f},rr}var tr,ft;function Di(){if(ft)return tr;ft=1;var r=Si(),e=Wi();return tr=function(n){var i=e(n);return i<=0?0:i>r?r:i},tr}var qi=I,Li=qi("%TypeError%"),_i=$t,Mi=Di(),ki=de(),ji=function(e){if(ki(e)!=="Object")throw new Li("Assertion failed: `obj` must be an Object");return Mi(_i(e,"length"))},Bi=function(e){return!!e},Gi=I,Ui=Gi("%Object%"),Hi=se,zi=function(e){return Hi(e),Ui(e)},Ct=I,Ki=Ct("%String%"),Vi=Ct("%TypeError%"),Ji=function(e){if(typeof e=="symbol")throw new Vi("Cannot convert a Symbol value to a string");return Ki(e)},Yi=Xn,Xi=$t,Qi=ar,Zi=ji,eo=Bi,ro=zi,to=Ji,Ft=function(e){var t=ro(this),n=Zi(t);if(!Qi(e))throw new TypeError("Array#findIndex: predicate must be a function");for(var i=arguments.length>1?arguments[1]:void 0,c=0;c<n;){var l=to(c),u=Xi(t,l),s=eo(Yi(e,i,[u,c,t]));if(s)return c;c+=1}return-1},no=Ft,Wt=function(){var e=Array.prototype.findIndex&&[,1].findIndex(function(t,n){return n===0})===0;return e?Array.prototype.findIndex:no},io=gt,Dt=typeof Symbol=="function"&&typeof Symbol.unscopables=="symbol",oo=Dt&&Array.prototype[Symbol.unscopables],pt=TypeError,ao=function(e){if(typeof e!="string"||!e)throw new pt("method must be a non-empty string");if(!io(Array.prototype,e))throw new pt("method must be on Array.prototype");Dt&&(oo[e]=!0)},uo=At,lo=ao,co=Wt,so=function(){var e=co();return uo(Array.prototype,{findIndex:e},{findIndex:function(){return Array.prototype.findIndex!==e}}),lo("findIndex"),e},fo=At,po=se,yo=fe,vo=Y,mo=Ft,qt=Wt,ho=so,go=vo("Array.prototype.slice"),So=yo.apply(qt()),bo=function(e,t){po(e);var n=go(arguments,1);return So(e,n)};fo(bo,{getPolyfill:qt,implementation:mo,shim:ho});/*! http://mths.be/startswith v0.2.0 by @mathias */String.prototype.startsWith||function(){var r=function(){try{var n={},i=Object.defineProperty,c=i(n,n,n)&&i}catch{}return c}(),e={}.toString,t=function(n){if(this==null)throw TypeError();var i=String(this);if(n&&e.call(n)=="[object RegExp]")throw TypeError();var c=i.length,l=String(n),u=l.length,s=arguments.length>1?arguments[1]:void 0,f=s?Number(s):0;f!=f&&(f=0);var p=Math.min(Math.max(f,0),c);if(u+p>c)return!1;for(var y=-1;++y<u;)if(i.charCodeAt(p+y)!=l.charCodeAt(y))return!1;return!0};r?r(String.prototype,"startsWith",{value:t,configurable:!0,writable:!0}):String.prototype.startsWith=t}();/*! https://mths.be/includes v0.2.0 by @mathias */String.prototype.includes||function(){var r={}.toString,e=function(){try{var i={},c=Object.defineProperty,l=c(i,i,i)&&c}catch{}return l}(),t="".indexOf,n=function(i){if(this==null)throw TypeError();var c=String(this);if(i&&r.call(i)=="[object RegExp]")throw TypeError();var l=c.length,u=String(i),s=u.length,f=arguments.length>1?arguments[1]:void 0,p=f?Number(f):0;p!=p&&(p=0);var y=Math.min(Math.max(p,0),l);return s+y>l?!1:t.call(c,u,p)!=-1};e?e(String.prototype,"includes",{value:n,configurable:!0,writable:!0}):String.prototype.includes=n}();/*! http://mths.be/repeat v0.2.0 by @mathias */String.prototype.repeat||function(){var r=function(){try{var t={},n=Object.defineProperty,i=n(t,t,t)&&n}catch{}return i}(),e=function(t){if(this==null)throw TypeError();var n=String(this),i=t?Number(t):0;if(i!=i&&(i=0),i<0||i==1/0)throw RangeError();for(var c="";i;)i%2==1&&(c+=n),i>1&&(n+=n),i>>=1;return c};r?r(String.prototype,"repeat",{value:e,configurable:!0,writable:!0}):String.prototype.repeat=e}();function wo(r,e){return e.map(function(t,n){var i=n+1,c=i.toString().length,l=" ".repeat(r-c);return l+i+"  "+t})}var Lt=wo,Po=Lt,Ao=6,Oo="-n";function Io(r,e){var t=0,n=e.findIndex(function(c){return c===Oo}),i=n!==-1;i&&e.splice(n,1),Promise.all(e.map(function(c){return r.system.read(c).then(null,function(l){return t=1,"cat: "+l})})).then(function(c){return i?Po(Ao,c):c}).then(function(c){r.output(c.join(`
`)),r.exit(t)})}var Eo=Io;function $o(r,e){var t=e[0]||"/home/"+r.system.state.user;r.system.changeDir(t).then(r.exit,function(n){r.error(n),r.exit(1)})}var xo=$o,yt="SINGLE_COPY";function To(r,e){var t=e.findIndex(function(u){return u==="-r"||u==="-R"}),n=t!==-1;if(n&&e.splice(t,1),!e.length){r.error("cp: missing file operand"),r.exit(1);return}if(e.length===1){r.error("cp: missing destination file operand after ‘"+e[0]+"’"),r.exit(1);return}var i=e[e.length-1],c=e.slice(0,-1);function l(u,s){return r.system.stat(u).then(function(f){return f.type==="dir"&&!n?Promise.reject("cp: omitting directory ‘"+u+"’"):r.system.copy(u,s)})}r.system.stat(i).then(function(u){if(u.type!=="dir")return Promise.reject()}).catch(function(){return c.length!==1?Promise.reject("cp: target ‘"+i+"’ is not a directory"):yt}).then(function(u){return u===yt?l(c[0],i):Promise.all(c.map(function(s){var f=s.split("/"),p=f[f.length-1],y=i+"/"+p;return l(s,y)}))}).then(function(){r.exit(0)}).catch(function(u){r.error(u),r.exit(1)})}var Ro=To,No=Lt,Co=5;function Fo(r){r.system.getHistory().then(function(e){r.output(No(Co,e).join(`
`)),r.exit()})}var Wo=Fo,Do=`
The output here is limited.
On a real system you would also see file permissions, user, group, block size and more.`;function qo(r,e){var t=e.findIndex(function(p){return p==="-a"}),n=t!==-1;n&&e.splice(t,1);var i=e.findIndex(function(p){return p==="-l"}),c=i!==-1;c&&e.splice(i,1);var l=e.findIndex(function(p){return p==="-la"});l!==-1&&(n=!0,c=!0,e.splice(l,1));var u=e.findIndex(function(p){return p==="-al"});u!==-1&&(n=!0,c=!0,e.splice(u,1)),e.length||e.push(".");function s(p){return n?p:p.filter(function(y){return y[0]!=="."})}function f(p,y){return c?Promise.all(y.map(function(d){return r.system.stat(p+"/"+d).then(function(v){var w=new Date(v.modified),$=w.toDateString().slice(4,10)+" "+w.toTimeString().slice(0,5),N=v.type;return N==="dir"&&(N+=" "),N+"  "+$+"  "+v.name})})).then(function(d){return"total "+d.length+`
`+d.join(`
`)+Do}):Promise.resolve(y.join(" "))}Promise.all(e.sort().map(function(p){return r.system.readDir(p).then(s).then(function(y){return f(p,y)}).then(function(y){return e.length===1?y:p+`:
`+y})})).then(function(p){return p.join(`

`)}).then(function(p){r.output(p),r.exit()},function(p){r.output("ls: "+p),r.exit(2)})}var Lo=qo;function _o(r,e){if(!e.length){r.error("mkdir: missing operand"),r.exit(1);return}Promise.all(e.map(function(t){return r.system.createDir(t)})).then(function(){r.exit()},function(t){r.error(t),r.exit(1)})}var Mo=_o,dt="SINGLE_COPY";function ko(r,e){var t=e.findIndex(function(u){return u==="-n"}),n=t!==-1;if(n&&e.splice(t,1),!e.length){r.error("mv: missing file operand"),r.exit(1);return}if(e.length===1){r.error("mv: missing destination file operand after ‘"+e[0]+"’"),r.exit(1);return}var i=e[e.length-1],c=e.slice(0,-1);function l(u,s){return n?r.system.stat(s).catch(function(){return r.system.copy(u,s).then(function(){return r.system.remove(u)})}):r.system.copy(u,s).then(function(){return r.system.remove(u)})}r.system.stat(i).then(function(u){if(u.type!=="dir")return Promise.reject()}).catch(function(){return c.length!==1?Promise.reject("mv: target ‘"+i+"’ is not a directory"):dt}).then(function(u){return u===dt?l(c[0],i):Promise.all(c.map(function(s){var f=s.split("/"),p=f[f.length-1],y=i+"/"+p;return l(s,y)}))}).then(function(){r.exit(0)}).catch(function(u){r.error(u),r.exit(1)})}var jo=ko;function Bo(r,e){r.system.getDir().then(function(t){r.output(t),r.exit()})}var Go=Bo;function Uo(r,e){var t=e.findIndex(function(i){return i.toLowerCase()==="-r"}),n=t!==-1;if(n&&e.splice(t,1),!e.length){r.error("rm: missing operand"),r.exit(1);return}Promise.all(e.map(function(i){return r.system.stat(i).then(function(c){var l=c.type==="dir";if(l&&!n)return Promise.reject("rm: cannot remove ‘"+i+"’: Is a directory")},function(){}).then(function(){return r.system.remove(i)})})).then(function(){r.exit()},function(i){r.error(i),r.exit(1)})}var Ho=Uo;function zo(r,e){if(!e.length){r.error("rmdir: missing operand"),r.exit(1);return}Promise.all(e.map(function(t){return r.system.stat(t).then(function(n){if(n.type!=="dir")return Promise.reject("rmdir: cannot remove ‘"+t+"’: Not a directory")},function(){}).then(function(){return r.system.readDir(t)}).then(function(n){if(n.length)return Promise.reject("rmdir: failed to remove ‘"+t+"’: Directory not empty")}).then(function(){return r.system.remove(t)})})).then(function(){r.exit()},function(t){r.error(t),r.exit(1)})}var Ko=zo;function Vo(r,e){if(!e.length){r.error("touch: missing file operand"),r.exit(1);return}Promise.all(e.map(function(t){return r.system.write(t,"")})).then(function(){r.exit()},function(t){r.error(t),r.exit(1)})}var Jo=Vo,Yo={cat:Eo,cd:xo,cp:Ro,history:Wo,ls:Lo,mkdir:Mo,mv:jo,pwd:Go,rm:Ho,rmdir:Ko,touch:Jo},Xo=Yo,nr=Xo;function Qo(r){var e=Zo(r),t={};function n(l){return ra(e.workingDirectory,l)}function i(l){var u=n(l).split("/").slice(0,-1).join("/");return c.stat(u).then(function(s){return s.type==="dir"?Promise.resolve():Promise.reject(u+": Is not a directory")})}var c={commands:nr,state:e,run:function(l){var u=l.split(" "),s=u.shift();if(e.history.push(l),!nr[s])return Promise.reject(s+": command not found");var f="";return new Promise(function(p,y){nr[s]({output:function(d){f+=d},error:function(d){f+=d},exit:function(d){d?y(f):p(f)},system:c},u)})},getDir:function(){return Promise.resolve(e.workingDirectory)},changeDir:function(l){var u=n(l);return e.fileSystem[u]?(e.workingDirectory=u,Promise.resolve()):Promise.reject(u+": No such file or directory")},read:function(l){var u=n(l);return e.fileSystem[u]?e.fileSystem[u].type!=="file"?Promise.reject(l+": Is a directory"):Promise.resolve(e.fileSystem[u].content):Promise.reject(l+": No such file or directory")},readDir:function(l){var u=n(l);if(!e.fileSystem[u])return Promise.reject("cannot access ‘"+l+"’: No such file or directory");var s=Object.keys(e.fileSystem).filter(function(f){return f.startsWith(u)&&f!==u}).map(function(f){return f.substr(u==="/"?u.length:u.length+1)}).filter(function(f){return!f.includes("/")}).sort();return Promise.resolve(s)},stat:function(l){var u=n(l);if(!e.fileSystem[u])return Promise.reject(l+": No such file or directory");var s=u.split("/");return Promise.resolve({modified:e.fileSystem[u].modified,type:e.fileSystem[u].type,name:s[s.length-1]})},createDir:function(l){return c.stat(l).then(function(){return Promise.reject("cannot create directory '"+l+"': File exists")},function(){return i(l)}).then(function(){var u=n(l);e.fileSystem[u]={type:"dir",modified:Date.now()}})},write:function(l,u){if(typeof u!="string")try{u=JSON.stringify(u)}catch(s){return Promise.reject(s)}return i(l).then(function(){var s=n(l);return c.stat(l).then(function(f){if(f.type!=="file")return Promise.reject(s+": Is a folder");var p=e.fileSystem[s].content;e.fileSystem[s].content=p+u,e.fileSystem[s].modified=Date.now()},function(){e.fileSystem[s]={type:"file",modified:Date.now(),content:u}})})},remove:function(l){var u=n(l);return e.fileSystem[u]?(Object.keys(e.fileSystem).forEach(function(s){s.startsWith(u)&&delete e.fileSystem[s]}),Promise.resolve()):Promise.reject("cannot remove ‘"+l+"’: No such file or directory")},copy:function(l,u){var s=n(l),f=n(u);if(!e.fileSystem[s])return Promise.reject(l+": No such file or directory");function p(y){if(y.startsWith(s)){var d=y.replace(s,f);e.fileSystem[d]=e.fileSystem[y]}}return i(f).then(function(){Object.keys(e.fileSystem).forEach(p)})},getHistory:function(){return Promise.resolve(e.history)},completeUp:function(l){var u=t.historySize!==e.history.length,s=l!==t.input;if(s||u)t.input=l,t.index=0,t.historySize=e.history.length,t.list=e.history.filter(function(f){return f.startsWith(l)}).reverse();else if(t.index<t.list.length-1)t.index++;else return Promise.resolve(void 0);return Promise.resolve(t.list[t.index])},completeDown:function(l){return l!==t.input||!t.index?Promise.resolve(void 0):(t.index--,Promise.resolve(t.list[t.index]))}};return c}function Zo(r){var e=ea();return r&&Object.keys(e).forEach(function(t){r[t]&&(e[t]=r[t])}),e}function ea(){return{history:[],fileSystem:{"/":{type:"dir",modified:Date.now()},"/home":{type:"dir",modified:Date.now()},"/home/user":{type:"dir",modified:Date.now()}},user:"user",workingDirectory:"/home/user"}}function ra(r,e){if(!e)return r;for(var t=(e.charAt(0)==="/"?"":r+"/")+e,n=t.split("/").filter(function(s){return!!s}),i=0,c=n.length-1;c>=0;c--){var l=n[c];l==="."?n.splice(c,1):l===".."?(n.splice(c,1),i++):i&&(n.splice(c,1),i--)}return"/"+n.join("/")}var ta=Qo;class na extends HTMLElement{constructor(){super(),this.innerHTML='<window-column class="window-column"></window-column>',this.lastKeypress=Date.now()}get windowColumns(){return this.querySelectorAll(".window-column")}get allWindows(){return this.querySelectorAll(".window-container")}get selectedWindow(){return this._selectedWindow==null?this.querySelector(".window-container"):this._selectedWindow}set selectedWindow(e){this.selectedWindow.classList.remove("selected-window"),this._selectedWindow=e,e.onFocus(),e.classList.add("selected-window")}createNewColumn(e){let t=document.createElement("window-column");return t.classList.add("window-column"),e>0?this.appendChild(t):this.prepend(t),t}moveSelectedWindowHorizontally(e){let t=this.selectedWindow.parentElement,n=Array.from(this.children),i=n.indexOf(t)+e,c=i<0||i>n.length-1;if(t.children.length>1)c?this.createNewColumn(e).appendChild(this.selectedWindow):n[i].appendChild(this.selectedWindow);else if(!c){let u=n[i];this.selectedWindow.parentElement.remove(),u.appendChild(this.selectedWindow)}}moveSelectedWindowVertically(e){}selectWindowInColumn(e){let t=this.selectedWindow.parentElement,n=Array.from(t.children),i=n.indexOf(this.selectedWindow)+e;i<0&&(i=n.length+e),i>n.length-1&&(i=0),this.selectedWindow=n[i]}selectWindowInRow(e){let t=this.selectedWindow.parentElement,n=Array.from(this.children),i=n.indexOf(t)+e;i<0&&(i=n.length+e),i>n.length-1&&(i=0);let c=n[i].children[0];this.selectedWindow=c}deleteSelectedWindow(){let e=this.selectedWindow.parentElement,t=Array.from(e.children);this.selectedWindow.remove(),this.selectedWindow=this.querySelector(".window-container"),t.length==1&&e.remove()}createNewWindow(e){let t=document.createElement(e);this.querySelector("window-column").appendChild(t),this.selectedWindow=t}connectedCallback(){this.createNewWindow("code-editor"),document.addEventListener("keydown",e=>{if(e.key=="ArrowDown"&&e.shiftKey){this.moveSelectedWindowVertically(1);return}if(e.key=="ArrowDown"){this.selectWindowInColumn(1);return}if(e.key=="ArrowUp"&&e.shiftKey){this.moveSelectedWindowVertically(-1);return}if(e.key=="ArrowUp"){this.selectWindowInColumn(-1);return}if(e.key=="ArrowLeft"&&e.shiftKey){this.moveSelectedWindowHorizontally(-1);return}if(e.key=="ArrowLeft"){this.selectWindowInRow(-1);return}if(e.key=="ArrowRight"&&e.shiftKey){this.moveSelectedWindowHorizontally(1);return}if(e.key=="ArrowRight"){this.selectWindowInRow(1);return}if(e.key=="Enter"&&e.shiftKey){this.createNewWindow("terminal-emulator");return}if(e.key=="W"){this.deleteSelectedWindow();return}})}}class fr extends HTMLElement{constructor(){super()}set created(e){this.setAttribute("created",e)}set title(e){this.setAttribute("title",e)}get title(){return this.hasAttribute("title")||this.setAttribute("title","empty"),this.getAttribute("title")}set content(e){this._content=e}get content(){return this._content==null?"Empty":this._content}onFocus(){}removeWindow(){this.parentElement.children.length==1&&this.parentElement.remove(),this.remove()}connectedCallback(){this.innerHTML=`
      <div class="window-titlebar">
        <p class="window-title">${this.title}</p>
        <div class="window-buttons">
          <i class="ti ti-x window-close-button"></i>
        </div>
      </div>
      <div class="window-content">
        ${this.content}
      </div>
    `,this.querySelector(".window-content").innerHTML=this.content,this.classList.add("window-container"),this.queryselector(".window-close-button").addeventlistener("click",()=>{this.removewindow()}),this.querySelector(".window-title").innerHTML=this.title}}class ia extends fr{constructor(){super(),this.emulator=ta({workingDirectory:"/",fileSystem:{"/":{type:"dir",modified:Date.now()},"/README.txt":{type:"file",modified:Date.now(),content:"Hello!"}}}),this.emulator.commands.clear=e=>{this.content="",e.exit()}}set content(e){this._content=e,this.querySelector(".terminal-emulator-content")&&(this.querySelector(".terminal-emulator-content").innerHTML=e)}get content(){return this._content}error(e){e&&(this.content=this.content+e+`
`)}run(e){return this.log("$ "+e),this.emulator.run(e).then(t=>{this.log(t)},t=>{this.error(t)})}log(e){e&&(this.content=this.content+e+`
`)}connectedCallback(){this.title="Terminal Emulator",this.content="",this.innerHTML=`
      <div class="window-titlebar">
        <p class="window-title">${this.title}</p>
        <div class="window-buttons">     
          <i class="ti ti-x window-close-button"></i>
        </div>
      </div>
      <div class="window-terminal-content">
        <p class='terminal-emulator-content' spellcheck='false'></p>
        <input type='text' class='terminal-emulator-input'></input>
      </div>
    `,this.querySelector(".terminal-emulator-content").innerHTML=this.content,this.classList.add("window-container"),this.querySelector(".window-title").innerHTML=this.title,this.querySelector(".terminal-emulator-input").addEventListener("keydown",e=>{console.log(e);let t=this.querySelector(".terminal-emulator-input");e.key=="Enter"&&(this.run(t.value),t.value="")}),this.querySelector(".window-close-button").addEventListener("click",()=>{this.removeWindow()}),this.run("pwd")}}class oa extends fr{constructor(){super()}parseTextEditor(e){let t=e.target.value,n=t.split(`
`).length,i=this.querySelector(".custom-text-editor-columns");this.content=t,i.innerHTML="";for(let c=1;c<n+1;c++){let l=document.createElement("p");l.innerText=c,i.appendChild(l)}}connectedCallback(){this.title="Code editor",this.content="",this.innerHTML=`
      <div class="window-titlebar">
        <p class="window-title">${this.title}</p>
        <div class="window-buttons">
        </div>
      </div>
      <div class="window-content">
        <div class='custom-text-editor-columns'>1</div><textarea wrap='off' class='custom-text-editor' spellcheck='false'></textarea>
      </div>
    `,this.querySelector(".custom-text-editor").innerHTML=this.content,this.classList.add("window-container"),this.querySelector(".custom-text-editor").addEventListener("input",e=>{this.parseTextEditor(e)}),this.querySelector(".window-title").innerHTML=this.title}}customElements.define("window-manager",na);customElements.define("custom-window",fr);customElements.define("code-editor",oa);customElements.define("terminal-emulator",ia);document.querySelector("#app").innerHTML=`
  <div class="main-container">
    <status-bar>
      <div class="branding-container">
        <img src="./src/img/monkey.svg" class="brand-logo">
        <p>aesthetic programming environment</p>
      </div>
      <status-indicator class="status-indicator">
        <i class="ti ti-database"></i>
        <p>1kB/10mB</p>
      </status-indicator>
    </status-bar>
    <window-manager>

    </window-manager>
  </div>
`;
